+++
date = 2018-12-06T15:54:00Z
description = "Как не надо называть похожие методы."
image = "/assets/projects/ohmypy-2.png"
slug = "real-quick-ratio"
tags = ["ohmypy", "development"]
title = "Чистый код. Похожие названия методов"
+++

На днях мы использовали метод `SequenceMatcher.ratio()` из модуля difflib, чтобы [оценить сходство двух строк](/difflib-ratio/).

А что бы вы сказали, если узнали, что у того же класса есть ещё методы `quick_ratio()` и `real_quick_ratio()`? С описанием «возвращает верхнюю границу ratio довольно быстро» и «возвращает верхнюю границу ratio очень быстро»?

Я бы сказал, что это говнокод. Если бы коллега принёс такой код на ревью, я бы предложил подумать ещё ツ Либо ты нормально называешь эти методы, чтобы понятно было, когда какой использовать. Либо прячешь их в глубине модуля и не делаешь частью публичного API.

Конкретно в данном случае я бы сделал «быстрый» и «очень быстрый» методы приватными, потому что они нужны только для оптимизации работы других публичных методов difflib. Используются примерно так:

```
if matcher.real_quick_ratio() >= cutoff and \
    matcher.quick_ratio() >= cutoff and \
    matcher.ratio() >= cutoff:
    ...
```

Как вспомогательные методы — ладно. Но точно не в публичный интерфейс.

<div class="row">
<div class="col-xs-12 col-sm-10 col-md-8"><p><em>Заметка из телеграм-канала <span class="nowrap"><i class="fas fa-kiwi-bird"></i> «<a href="https://t.me/ohmypy">Oh My Py</a>»</span></em></p></div>
</div>
