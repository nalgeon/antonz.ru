<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>–ê–Ω—Ç–æ–Ω –ñ–∏—è–Ω–æ–≤</title><description>–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Ñ—Ç–∞, –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–¥—Å—Ç–≤–æ –∏ –∑–¥—Ä–∞–≤—ã–π —Å–º—ã—Å–ª</description><link>https://antonz.ru/</link><image><url>https://antonz.ru/assets/favicon/favicon.png</url><title>–ê–Ω—Ç–æ–Ω –ñ–∏—è–Ω–æ–≤</title><link>https://antonz.ru/</link></image><generator>Hugo -- gohugo.io</generator><language>ru-ru</language><lastBuildDate>Mon, 02 May 2022 13:00:00 +0000</lastBuildDate><atom:link href="https://antonz.ru/index.xml" rel="self" type="application/rss+xml"/><item><title>–ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –≤ Python</title><link>https://antonz.ru/page-iterator/</link><pubDate>Mon, 02 May 2022 13:00:00 +0000</pubDate><guid>https://antonz.ru/page-iterator/</guid><description>–û–±—Ö–æ–¥–∏–º –¥–∞—Ç–∞—Å–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.</description><content:encoded><![CDATA[<p>–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –≤—ã¬†—Å—á–∏—Ç–∞–µ—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ¬†–æ–≥—Ä–æ–º–Ω–æ–º—É –¥–∞—Ç–∞—Å–µ—Ç—É –∏–≥—Ä—É—à–µ–∫, –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –ø–æ¬†–≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ –∑–∞¬†–ø—Ä–æ—à–ª—ã–π –≥–æ–¥:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#000">reader</span> <span style="color:#000">=</span> <span style="color:#000">fetch_toys</span>()
<span style="color:#a90d91">for</span> <span style="color:#000">item</span> <span style="color:#000">in</span> <span style="color:#000">reader</span>:
    <span style="color:#000">process_single</span>(<span style="color:#000">item</span>)
</code></pre></div><p><code>process_single()</code> –∑–∞–Ω–∏–º–∞–µ—Ç 10¬†–º—Å, —Ç–∞–∫ —á—Ç–æ 400¬†–º–ª–Ω –∏–≥—Ä—É—à–µ–∫ –æ–±—Ä–∞–±–æ—Ç–∞—é—Ç—Å—è –∑–∞¬†46¬†–¥–Ω–µ–π üò±</p>
<p>–í¬†—Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –æ–∂–∏–≤–ª–µ–Ω–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞ –≤–∞–º —É–¥–∞–µ—Ç—Å—è —É–±–µ–¥–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —á—Ç–æ —Ç–∞–∫ –Ω–µ¬†–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ. –ù–∞¬†—Å–≤–µ—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è <code>process_batch()</code>, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 10000 –∏–≥—Ä—É—à–µ–∫ –∑–∞¬†1¬†—Å–µ–∫. –≠—Ç–æ —É–∂–µ 11¬†—á–∞—Å–æ–≤ –Ω–∞¬†–≤—Å–µ –∏–≥—Ä—É—à–∫–∏, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏—è—Ç–Ω–µ–µ.</p>
<p>–ö–∞–∫¬†–±—ã —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–π—Ç–∏ –ø–æ¬†–¥–∞—Ç–∞—Å–µ—Ç—É –ø–∞–∫–µ—Ç–∞–º–∏ –ø–æ¬†10¬†—Ç—ã—Å—è—á –∑–∞–ø–∏—Å–µ–π? –¢—É—Ç –∏¬†–ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä!</p>
<h2 id="–Ω–∞–∏–≤–Ω—ã–π-–ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∏–∫">–ù–∞–∏–≤–Ω—ã–π –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∏–∫</h2>
<p>–ü—Ä–æ–π–¥–µ–º –ø–æ¬†–∏—Å—Ö–æ–¥–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–ø–æ–ª–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü—É. –ö–∞–∫ –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è¬†‚Äî –æ—Ç–¥–∞–¥–∏–º —á–µ—Ä–µ–∑ <code>yield</code> –∏¬†–Ω–∞—á–Ω–µ–º –∑–∞–ø–æ–ª–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â—É—é. –ë—É–¥–µ–º –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å, –ø–æ–∫–∞ –∏—Å—Ö–æ–¥–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ¬†–∑–∞–∫–æ–Ω—á–∏—Ç—Å—è:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a90d91">def</span> <span style="color:#000">paginate</span>(<span style="color:#000">iterable</span>, <span style="color:#000">page_size</span>):
    <span style="color:#000">page</span> <span style="color:#000">=</span> []
    <span style="color:#a90d91">for</span> <span style="color:#000">item</span> <span style="color:#000">in</span> <span style="color:#000">iterable</span>:
        <span style="color:#000">page</span><span style="color:#000">.</span><span style="color:#000">append</span>(<span style="color:#000">item</span>)
        <span style="color:#a90d91">if</span> <span style="color:#a90d91">len</span>(<span style="color:#000">page</span>) <span style="color:#000">==</span> <span style="color:#000">page_size</span>:
            <span style="color:#a90d91">yield</span> <span style="color:#000">page</span>
            <span style="color:#000">page</span> <span style="color:#000">=</span> []
    <span style="color:#a90d91">yield</span> <span style="color:#000">page</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#000">reader</span> <span style="color:#000">=</span> <span style="color:#000">fetch_toys</span>()
<span style="color:#000">page_size</span> <span style="color:#000">=</span> <span style="color:#1c01ce">10_000</span>
<span style="color:#a90d91">for</span> <span style="color:#000">page</span> <span style="color:#000">in</span> <span style="color:#000">paginate</span>(<span style="color:#000">reader</span>, <span style="color:#000">page_size</span>):
    <span style="color:#000">process_batch</span>(<span style="color:#000">page</span>)
</code></pre></div><p>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—á–∞—è, –Ω–æ¬†–µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∫–∞. –¢–∞–∫–æ–π –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –æ–±—Ö–æ–¥ –∑–∞–º–µ—Ç–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –æ–±—ã—á–Ω–æ–≥–æ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ¬†–æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏.</p>
<h2 id="—Å–∫–æ—Ä–æ—Å—Ç—å-–æ–±—Ö–æ–¥–∞">–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ö–æ–¥–∞</h2>
<p>–°—Ä–∞–≤–Ω–∏–º –¥–≤–∞ –æ–±—Ö–æ–¥–∞ ‚Äî –æ–¥–∏–Ω–æ—á–Ω—ã–π –∏¬†–ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a90d91">def</span> <span style="color:#000">one_by_one</span>(<span style="color:#000">a</span>, <span style="color:#000">b</span>):
    <span style="color:#c41a16">&#34;&#34;&#34;Processes records one-by-one, without pagination&#34;&#34;&#34;</span>
    <span style="color:#000">rdr</span> <span style="color:#000">=</span> <span style="color:#000">reader</span>(<span style="color:#000">a</span>, <span style="color:#000">b</span>)
    <span style="color:#a90d91">for</span> <span style="color:#000">record</span> <span style="color:#000">in</span> <span style="color:#000">rdr</span>:
        <span style="color:#000">process_single</span>(<span style="color:#000">record</span>)

<span style="color:#a90d91">def</span> <span style="color:#000">batch</span>(<span style="color:#000">page_size</span>, <span style="color:#000">a</span>, <span style="color:#000">b</span>):
    <span style="color:#c41a16">&#34;&#34;&#34;Processes records in batches, with pagination&#34;&#34;&#34;</span>
    <span style="color:#000">rdr</span> <span style="color:#000">=</span> <span style="color:#000">reader</span>(<span style="color:#000">a</span>, <span style="color:#000">b</span>)
    <span style="color:#a90d91">for</span> <span style="color:#000">page</span> <span style="color:#000">in</span> <span style="color:#000">paginate</span>(<span style="color:#000">rdr</span>, <span style="color:#000">page_size</span>):
        <span style="color:#000">process_batch</span>(<span style="color:#000">page</span>)

<span style="color:#000">times</span> <span style="color:#000">=</span> <span style="color:#1c01ce">10</span>

<span style="color:#000">page_size</span> <span style="color:#000">=</span> <span style="color:#1c01ce">10_000</span>
<span style="color:#000">a</span> <span style="color:#000">=</span> <span style="color:#1c01ce">1_000_000</span>
<span style="color:#000">b</span> <span style="color:#000">=</span> <span style="color:#1c01ce">2_000_000</span>

<span style="color:#000">fn</span> <span style="color:#000">=</span> <span style="color:#a90d91">lambda</span>: <span style="color:#000">one_by_one</span>(<span style="color:#000">a</span>, <span style="color:#000">b</span>)
<span style="color:#000">total</span> <span style="color:#000">=</span> <span style="color:#000">timeit</span><span style="color:#000">.</span><span style="color:#000">timeit</span>(<span style="color:#000">fn</span>, <span style="color:#000">number</span><span style="color:#000">=</span><span style="color:#000">times</span>)
<span style="color:#000">it_time</span> <span style="color:#000">=</span> <span style="color:#a90d91">round</span>(<span style="color:#000">total</span> <span style="color:#000">*</span> <span style="color:#1c01ce">1000</span> <span style="color:#000">/</span> <span style="color:#000">times</span>)
<span style="color:#a90d91">print</span>(<span style="color:#c41a16">f</span><span style="color:#c41a16">&#34;One-by-one (baseline): </span><span style="color:#c41a16">{</span><span style="color:#000">it_time</span><span style="color:#c41a16">}</span><span style="color:#c41a16"> ms&#34;</span>)

<span style="color:#000">fn</span> <span style="color:#000">=</span> <span style="color:#a90d91">lambda</span>: <span style="color:#000">batch</span>(<span style="color:#000">page_size</span>, <span style="color:#000">a</span>, <span style="color:#000">b</span>)
<span style="color:#000">total</span> <span style="color:#000">=</span> <span style="color:#000">timeit</span><span style="color:#000">.</span><span style="color:#000">timeit</span>(<span style="color:#000">fn</span>, <span style="color:#000">number</span><span style="color:#000">=</span><span style="color:#000">times</span>)
<span style="color:#000">it_time</span> <span style="color:#000">=</span> <span style="color:#a90d91">round</span>(<span style="color:#000">total</span> <span style="color:#000">*</span> <span style="color:#1c01ce">1000</span> <span style="color:#000">/</span> <span style="color:#000">times</span>)
<span style="color:#a90d91">print</span>(<span style="color:#c41a16">f</span><span style="color:#c41a16">&#34;Fill page with append(): </span><span style="color:#c41a16">{</span><span style="color:#000">it_time</span><span style="color:#c41a16">}</span><span style="color:#c41a16"> ms&#34;</span>)
</code></pre></div><p>–í–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞¬†1¬†–º–ª–Ω –∑–∞–ø–∏—Å–µ–π –∏¬†—Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–∞–∑–º–µ—Ä–æ–º –≤¬†10¬†—Ç—ã—Å—è—á:</p>
<pre tabindex="0"><code>One-by-one (baseline):   161 ms
Fill page with append(): 227 ms
</code></pre><p>–ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –æ–±—Ö–æ–¥ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ø–æ—á—Ç–∏ –≤¬†–ø–æ–ª—Ç–æ—Ä–∞ —Ä–∞–∑–∞!</p>
<p>–î–µ–ª–æ –≤¬†—Ç–æ–º, —á—Ç–æ –Ω–∞¬†–∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ü–∏–∫–ª–∞ –º—ã¬†—Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∏¬†–∑–∞—Ç–µ–º –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–ø–æ–ª–Ω—è–µ–º –µ–≥–æ. –ü–∏—Ç–æ–Ω—É –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ –ø–æ–¥ —Å–ø–∏—Å–∫–æ–º, –∞¬†—ç—Ç–æ –∑–∞—Ç—Ä–∞—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è¬†‚Äî O(n) –æ—Ç¬†–∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤¬†—Å–ø–∏—Å–∫–µ.</p>
<h2 id="—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-—Å—Ç—Ä–∞–Ω–∏—Ü–∞">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h2>
<p>–ü–æ–ø—Ä–æ–±—É–µ–º –∑–∞—Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –Ω—É–∂–Ω–æ–π –¥–ª–∏–Ω—ã –∏¬†–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a90d91">def</span> <span style="color:#000">paginate</span>(<span style="color:#000">iterable</span>, <span style="color:#000">page_size</span>):
    <span style="color:#000">page</span> <span style="color:#000">=</span> [<span style="color:#a90d91">None</span>] <span style="color:#000">*</span> <span style="color:#000">page_size</span>
    <span style="color:#000">idx</span> <span style="color:#000">=</span> <span style="color:#1c01ce">0</span>
    <span style="color:#a90d91">for</span> <span style="color:#000">item</span> <span style="color:#000">in</span> <span style="color:#000">iterable</span>:
        <span style="color:#000">page</span>[<span style="color:#000">idx</span>] <span style="color:#000">=</span> <span style="color:#000">item</span>
        <span style="color:#000">idx</span> <span style="color:#000">+=</span> <span style="color:#1c01ce">1</span>
        <span style="color:#a90d91">if</span> <span style="color:#000">idx</span> <span style="color:#000">==</span> <span style="color:#000">page_size</span>:
            <span style="color:#a90d91">yield</span> <span style="color:#000">page</span>
            <span style="color:#000">idx</span> <span style="color:#000">=</span> <span style="color:#1c01ce">0</span>
    <span style="color:#a90d91">yield</span> <span style="color:#000">page</span>[:<span style="color:#000">idx</span>]
</code></pre></div><p>–ü–æ–≤—Ç–æ—Ä–∏–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:</p>
<pre tabindex="0"><code>One-by-one (baseline):   161 ms
Fill page with append(): 227 ms
Use fixed-size page:     162 ms
</code></pre><p>–ó–∞–º–µ—Ç–Ω–æ –±—ã—Å—Ç—Ä–µ–µ! –°–∫–æ—Ä–æ—Å—Ç—å —Å—Ä–∞–≤–Ω—è–ª–∞—Å—å —Å –æ–±—ã—á–Ω—ã–º –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–º –ø–æ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏.</p>
<h2 id="–∏—Ç–µ—Ä–∞—Ü–∏—è-—Å—Ä–µ–∑–∞–º–∏">–ò—Ç–µ—Ä–∞—Ü–∏—è —Å—Ä–µ–∑–∞–º–∏</h2>
<p>–ú–æ–∂–Ω–æ¬†–ª–∏ –µ—â—ë –±—ã—Å—Ç—Ä–µ–µ? –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏¬†‚Äî –Ω–µ—Ç. –ê¬†–≤–æ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏¬†‚Äî –¥–∞, –µ—Å–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –¥–µ–π—Å—Ç–≤–∏–π –∏–∑¬†–∫–æ–¥–∞ –Ω–∞¬†–ø–∏—Ç–æ–Ω–µ –≤¬†–±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–π –∫–æ–¥ –Ω–∞¬†—Å–∏. –í¬†—ç—Ç–æ–º –ø–æ–º–æ–∂–µ—Ç –º–æ–¥—É–ª—å <code>itertools()</code> –∏¬†–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏—è <code>islice()</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a90d91">def</span> <span style="color:#000">paginate</span>(<span style="color:#000">iterable</span>, <span style="color:#000">page_size</span>):
    <span style="color:#000">it</span> <span style="color:#000">=</span> <span style="color:#a90d91">iter</span>(<span style="color:#000">iterable</span>)
    <span style="color:#000">slicer</span> <span style="color:#000">=</span> <span style="color:#a90d91">lambda</span>: <span style="color:#a90d91">list</span>(<span style="color:#000">itertools</span><span style="color:#000">.</span><span style="color:#000">islice</span>(<span style="color:#000">it</span>, <span style="color:#000">page_size</span>))
    <span style="color:#a90d91">return</span> <span style="color:#a90d91">iter</span>(<span style="color:#000">slicer</span>, [])
</code></pre></div><p>–í–æ—Ç —á—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:</p>
<ul>
<li><code>islice()</code> —Å–æ–∑–¥–∞—ë—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä (–Ω–∞–∑–æ–≤–µ–º –µ–≥–æ —Å–ª–∞–π—Å–µ—Ä–æ–º), –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é –µ–º—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–æ–∫–∞ –Ω–µ¬†–≤—ã–±–µ—Ä–µ—Ç –∏–∑¬†–Ω–µ–µ <code>page_size</code> —ç–ª–µ–º–µ–Ω—Ç–æ–≤;</li>
<li><code>list()</code> –≤—ã–±–∏—Ä–∞–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑¬†—ç—Ç–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–æ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞¬†‚Äî –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞;</li>
<li>–ø–æ—Å–∫–æ–ª—å–∫—É <code>islice()</code> —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞, –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—ã–∑–æ–≤–µ –æ–Ω¬†–ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å¬†—Ç–æ–≥–æ¬†–∂–µ –º–µ—Å—Ç–∞, –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –¥–æ¬†—ç—Ç–æ–≥–æ;</li>
<li>–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è <code>iter(slicer, [])</code> —Å–æ–∑–¥–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞¬†–∫–∞–∂–¥–æ–º —à–∞–≥–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–ª–∞–π—Å–µ—Ä;</li>
<li>—Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ñ—É–Ω–∫—Ü–∏—è <code>paginate()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞¬†–∫–∞–∂–¥–æ–º —à–∞–≥–µ –≤—ã–±–∏—Ä–∞–µ—Ç –æ—á–µ—Ä–µ–¥–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ —Å–ª–∞–π—Å–µ—Ä, –ø—Ä–æ–≤–∏–≥–∞—è—Å—å –ø–æ¬†–æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ ‚Äî –ø–æ–∫–∞ –æ–Ω–∞ –Ω–µ¬†–∑–∞–∫–æ–Ω—á–∏—Ç—Å—è.</li>
</ul>
<p>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –¥–æ —á–µ–≥–æ —Ö–æ—Ä–æ—à —Ç–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç:</p>
<pre tabindex="0"><code>One-by-one (baseline):   161 ms
Fill page with append(): 227 ms
Use fixed-size page:     162 ms
Use islice:               93 ms
</code></pre><p>–ù–∞ 40%¬†–±—ã—Å—Ç—Ä–µ–µ –æ–±—ã—á–Ω–æ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞ –ø–æ¬†–æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏!</p>
<h2 id="–∏—Ç–æ–≥–æ">–ò—Ç–æ–≥–æ</h2>
<p>–ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –æ–±—Ö–æ–¥ –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ, –≥–¥–µ –ø–∞–∫–µ—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∏–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –Ω–∞–±–æ—Ä–∞ –æ–¥–∏–Ω–æ—á–Ω—ã—Ö. –ß—Ç–æ–±—ã –Ω–µ¬†–ø–∏—Å–∞—Ç—å —Ç–∞–∫–æ–π –æ–±—Ö–æ–¥ –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Å¬†–Ω—É–ª—è, —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π <em>–ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä</em>.</p>
<p>–ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Å–ø–∏—Å–æ–∫, —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ¬†‚Äî –∏–∑-–∑–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Å—Å–∏–≤–∞. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –∞¬†–µ—â–µ –ª—É—á—à–µ¬†‚Äî –∏—Ç–µ—Ä–∞—Ü–∏—é –Ω–∞¬†–æ—Å–Ω–æ–≤–µ <code>itertools.islice()</code></p>
<p>–†–µ–∫–æ–º–µ–Ω–¥—É—é!</p>
<p><a href="https://replit.com/@antonz/page-iterator#main.py">–ø–µ—Å–æ—á–Ω–∏—Ü–∞</a></p>
<div class="row">
<div class="col-xs-12 col-sm-10 col-md-8"><p><em>–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞¬†–∫–∞–Ω–∞–ª <span class="nowrap"><i class="fas fa-kiwi-bird"></i> ¬´<a href="https://t.me/ohmypy"><strong>Oh My Py</strong></a>¬ª</span>, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ¬†—á–∏—Å—Ç–æ–º –∫–æ–¥–µ –Ω–∞¬†Python</em></p></div>
</div>
]]></content:encoded></item><item><title>–ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ SQLite</title><link>https://antonz.ru/sqlite-multiline/</link><pubDate>Sun, 24 Apr 2022 21:30:00 +0000</pubDate><guid>https://antonz.ru/sqlite-multiline/</guid><description>–ö–∞–∫ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å—à–æ–π –∑–∞–ø—Ä–æ—Å –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑</description><content:encoded><![CDATA[<p>–°—Ç–æ–∏–ª–æ –Ω–∞–ø–∏—Å–∞—Ç—å, —á—Ç–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã <a href="/sqlite-history/">–≤¬†–∫–æ–Ω—Å–æ–ª–∏ SQLite</a> –Ω–µ—É–¥–æ–±–Ω–æ, –∫–∞–∫ –≤—ã—á–∏—Ç–∞–ª –Ω–∞ sqlite-—Ñ–æ—Ä—É–º–µ –∫–ª–∞—Å—Å–Ω—ã–π —Ç—Ä—é–∫:</p>
<p>–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–º–µ—Å—Ç–æ <code>Enter</code> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É —Å–æ—á–µ—Ç–∞–Ω–∏–µ <code>Ctrl+V</code>, <code>Ctrl+J</code> ‚Äî –∏¬†–º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è –æ–¥–Ω–∏–º –∫—É—Å–∫–æ–º!</p>
<div class="row">
<div class="col-xs-12 col-sm-7">
<figure>
  <img alt="–ö–æ–Ω—Å–æ–ª—å SQLite" src="multiline.png" class="img-bordered-thin">
</figure>
</div>
</div>
<p>–ï—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ª—é–¥–∏:</p>
<ul>
<li>–í–Ω–µ—à–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (<code>.shell &lt;editor&gt; &lt;file&gt;</code>)</li>
<li>–ó–∞–ø—É—Å–∫ –∏–∑¬†—Ñ–∞–π–ª–∞ (<code>.read &lt;file&gt;</code>)</li>
<li>DBeaver, DataGrip –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏</li>
</ul>
<div class="row">
<div class="col-xs-12 col-sm-10 col-md-8"><p><em>–ò¬†–ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞¬†–∫–∞–Ω–∞–ª <span class="nowrap"><i class="fas fa-database"></i> ¬´<a href="https://t.me/sqliter"><strong>SQLite –Ω–∞¬†–ø—Ä–∞–∫—Ç–∏–∫–µ</strong></a>¬ª</span></em></p></div>
</div>
]]></content:encoded></item><item><title>–ó–∞–∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤¬†Python</title><link>https://antonz.ru/functools-cache/</link><pubDate>Wed, 20 Apr 2022 21:40:00 +0000</pubDate><guid>https://antonz.ru/functools-cache/</guid><description>–° –ø–æ–º–æ—â—å—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ @functools.lru_cache</description><content:encoded><![CDATA[<p>–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –Ω–∞–ø–∏—Å–∞–ª–∏ –≤—ã¬†—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–º–µ–π–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a90d91">def</span> <span style="color:#000">get_user_email</span>(<span style="color:#000">user_id</span>):
    <span style="color:#000">user</span> <span style="color:#000">=</span> <span style="color:#000">find_by_id</span>(<span style="color:#000">user_id</span>)
    <span style="color:#a90d91">return</span> <span style="color:#000">user</span>[<span style="color:#c41a16">&#34;email&#34;</span>]
</code></pre></div><p>–û–¥–Ω–∞ –±–µ–¥–∞: —Ñ—É–Ω–∫—Ü–∏—è <code>find_by_id()</code> –ª–µ–∑–µ—Ç –≤¬†—É–∂-–∂-–∂–∞—Å–Ω–æ –º–µ–¥–ª–µ–Ω–Ω—É—é –ª–µ–≥–∞—Å–∏-—Å–∏—Å—Ç–µ–º—É:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a90d91">def</span> <span style="color:#000">find_by_id</span>(<span style="color:#000">user_id</span>):
    <span style="color:#177500"># –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –∑–¥–µ—Å—å –º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ —Å–µ—Ç–∏,</span>
    <span style="color:#177500"># –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span>
    <span style="color:#000">time</span><span style="color:#000">.</span><span style="color:#000">sleep</span>(<span style="color:#1c01ce">1</span>)
    <span style="color:#a90d91">return</span> { <span style="color:#c41a16">&#34;email&#34;</span>: <span style="color:#c41a16">&#34;...&#34;</span> }
</code></pre></div><p>–ï—Å–ª–∏ 100¬†—Ä–∞–∑ –≤—ã–∑–≤–∞—Ç—å <code>get_user_email(42)</code> ‚Äî –±—É–¥–µ—Ç 100¬†–º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. –•–æ—Ç—è –ø–æ¬†—É–º—É —Ö–≤–∞—Ç–∏–ª–æ¬†–±—ã –∏¬†–æ–¥–Ω–æ–≥–æ. –ß—Ç–æ¬†–∂, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–∏–¥–µ–ª–∞–µ–º –ø—Ä–æ—Å—Ç–µ–Ω—å–∫–∏–π –∫–µ—à:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#000">cache</span> <span style="color:#000">=</span> {}

<span style="color:#a90d91">def</span> <span style="color:#000">get_user_email</span>(<span style="color:#000">user_id</span>):
    <span style="color:#a90d91">if</span> <span style="color:#000">user_id</span> <span style="color:#000">not</span> <span style="color:#000">in</span> <span style="color:#000">cache</span>:
        <span style="color:#000">user</span> <span style="color:#000">=</span> <span style="color:#000">find_by_id</span>(<span style="color:#000">user_id</span>)
        <span style="color:#000">cache</span>[<span style="color:#000">user_id</span>] <span style="color:#000">=</span> <span style="color:#000">user</span>[<span style="color:#c41a16">&#34;email&#34;</span>]
    <span style="color:#a90d91">return</span> <span style="color:#000">cache</span>[<span style="color:#000">user_id</span>]
</code></pre></div><p>–í—Ä–æ–¥–µ –Ω–∏—á–µ–≥–æ —Å–ª–æ–∂–Ω–æ–≥–æ (–Ω–µ¬†—Å—á–∏—Ç–∞—è –≤–æ–ø—Ä–æ—Å–∞ —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏—è –∫–µ—à–∞, –Ω–æ¬†–æ–±¬†—ç—Ç–æ–º –≤¬†–¥—Ä—É–≥–æ–π —Ä–∞–∑). –ù–æ¬†–ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –º–Ω–æ–≥–æ, –∏¬†–≤¬†–∫–∞–∂–¥—É—é –ø—Ä–∏–¥–µ—Ç—Å—è –ø—Ä–∏–¥–µ–ª—ã–≤–∞—Ç—å —Ç–∞–∫—É—é —à—Ç—É–∫—É. –ù–µ¬†—Å–ª–∏—à–∫–æ–º –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç.</p>
<p>–ö —Å—á–∞—Å—Ç—å—é, –≤¬†–º–æ–¥—É–ª–µ <code>functools</code> –µ—Å—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä <code>@lru_cache</code>. –û–Ω-—Ç–æ –Ω–∞–º –∏¬†–ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è. –î–æ–±–∞–≤–ª—è–µ–º –æ–¥–Ω—É —Å—Ç—Ä–æ—á–∫—É –∫¬†–∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∏¬†–≥–æ—Ç–æ–≤–æ:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#000">@functools</span><span style="color:#000">.</span><span style="color:#000">lru_cache</span>(<span style="color:#000">maxsize</span><span style="color:#000">=</span><span style="color:#1c01ce">256</span>)
<span style="color:#a90d91">def</span> <span style="color:#000">get_user_email</span>(<span style="color:#000">user_id</span>):
    <span style="color:#000">user</span> <span style="color:#000">=</span> <span style="color:#000">find_by_id</span>(<span style="color:#000">user_id</span>)
    <span style="color:#a90d91">return</span> <span style="color:#000">user</span>[<span style="color:#c41a16">&#34;email&#34;</span>]
</code></pre></div><p>–¢–µ–ø–µ—Ä—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤—ã–∑–æ–≤—ã <code>get_user_email()</code> —Å¬†–æ–¥–Ω–∏–º –∏¬†—Ç–µ–º¬†–∂–µ <code>user_id</code> –≤–µ—Ä–Ω—É—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑¬†–∫–µ—à–∞, –Ω–µ¬†–∑–∞–ø—Ä–∞—à–∏–≤–∞—è <code>find_by_id()</code>.</p>
<p><code>@lru_cache</code> –ø—Ä–µ–∫—Ä–∞—Å–µ–Ω –µ—â–µ —Ç–µ–º, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—Ç–µ—Å–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –∏–∑¬†–∫–µ—à–∞, –∫–æ–≥–¥–∞ –∏—Ö¬†—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ <code>maxsize</code>. –¢–∞–∫ —á—Ç–æ –≤—Å—é –ø–∞–º—è—Ç—å –Ω–µ¬†—Å—ä–µ—Å—Ç.</p>
<p>–í Python 3.9 –¥–æ–±–∞–≤–∏–ª–∏ –µ—â–µ –æ–¥–∏–Ω –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ‚Äî <code>@functools.cache</code>. –û–Ω —Ç–∞–∫–æ–π –∂–µ –∫–∞–∫ <code>@lru_cache</code>, —Ç–æ–ª—å–∫–æ –±–µ–∑—Ä–∞–∑–º–µ—Ä–Ω—ã–π (–±–ª–∞–≥–æ–¥–∞—Ä—è —á–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç —á—É—Ç—å –±—ã—Å—Ç—Ä–µ–µ).</p>
<p>–ö–µ—à–µ–º –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å ‚Äî –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ö–∏—Ç–æ–≤ –∏ –ø—Ä–æ–º–∞—Ö–æ–≤ –∏–ª–∏ –ø–æ—á–∏—Å—Ç–∏—Ç—å.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#177500"># —É–ø—Ä–∞–≤–ª—è–µ–º –∫–µ—à–µ–º</span>

<span style="color:#000">stats</span> <span style="color:#000">=</span> <span style="color:#000">get_user_email</span><span style="color:#000">.</span><span style="color:#000">cache_info</span>()
<span style="color:#a90d91">print</span>(<span style="color:#000">stats</span>)
<span style="color:#177500"># CacheInfo(hits=2, misses=3, maxsize=256, currsize=3)</span>

<span style="color:#000">get_user_email</span><span style="color:#000">.</span><span style="color:#000">cache_clear</span>()
<span style="color:#177500"># CacheInfo(hits=0, misses=0, maxsize=256, currsize=0)</span>
</code></pre></div><p>–†–∞–±–æ—Ç–∞–µ—Ç –∫–µ—à –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞, –∏¬†–ø–æ–≥–∏–±–Ω–µ—Ç –≤–º–µ—Å—Ç–µ —Å¬†–Ω–∏–º. –¢–∞–∫ —á—Ç–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –±–æ–ª–µ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ¬†‚Äî –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞¬†Redis –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏.</p>
<p><a href="https://devdocs.io/python/library/functools#functools.lru_cache">–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a> ‚Ä¢
<a href="https://replit.com/@antonz/functools-cache#main.py">–ø–µ—Å–æ—á–Ω–∏—Ü–∞</a></p>
<div class="row">
<div class="col-xs-12 col-sm-10 col-md-8"><p><em>–ó–∞–º–µ—Ç–∫–∞ –∏–∑ —Ç–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª–∞ <span class="nowrap"><i class="fas fa-kiwi-bird"></i> ¬´<a href="https://t.me/ohmypy"><strong>Oh My Py</strong></a>¬ª</span></em></p></div>
</div>
]]></content:encoded></item><item><title>–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ SQLite</title><link>https://antonz.ru/sqlite-history/</link><pubDate>Sun, 17 Apr 2022 14:50:00 +0000</pubDate><guid>https://antonz.ru/sqlite-history/</guid><description>–ü–æ–º–æ–≥–∞–µ—Ç –Ω–∞–π—Ç–∏ –∑–∞–ø—Ä–æ—Å, —á—Ç–æ–±—ã –Ω–µ –≤–≤–æ–¥–∏—Ç—å –∑–∞–Ω–æ–≤–æ.</description><content:encoded><![CDATA[<p>–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–æ–Ω—Å–æ–ª—å SQLite (<code>sqlite3</code> –∏–ª–∏ <code>sqlite3.exe</code>), —Ç–æ –æ–Ω–∞ –ø–æ–º–Ω–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2000 –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥. –ß—Ç–æ–±—ã –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–æ–º–∞–Ω–¥—É, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–∂–∞—Ç—å –∫–ª–∞–≤–∏—à—É <code>‚Üë</code>, –∞¬†–ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ¬†—Å–æ—á–µ—Ç–∞–Ω–∏—é <code>Ctrl+R</code>.</p>
<div class="row">
<div class="col-xs-12 col-sm-8">
<figure>
  <img alt="–ü–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏" src="search.jpg">
  <figcaption>–ë—ã—Å—Ç—Ä–µ–µ –Ω–∞–π—Ç–∏ —Å—Ç–∞—Ä—ã–π –∑–∞–ø—Ä–æ—Å, —á–µ–º –≤–±–∏–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ</figcaption>
</figure>
</div>
</div>
<p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ñ–∞–π–ª –∏—Å—Ç–æ—Ä–∏–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤¬†–∫–∞—Ç–∞–ª–æ–≥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏¬†–Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <code>.sqlite_history</code>. –û–Ω¬†—Ç–µ–∫—Å—Ç–æ–≤—ã–π, —Ç–∞–∫ —á—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ö–æ—Ç—å –≤¬†—Ä–µ–¥–∞–∫—Ç–æ—Ä–µ. –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤¬†–¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ ‚Äî —É–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –≤¬†–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è <code>SQLITE_HISTORY</code>.</p>
<div class="row">
<div class="col-xs-12 col-sm-8">
<figure>
  <img alt="–§–∞–π–ª –∏—Å—Ç–æ—Ä–∏–∏" src="history.jpg">
  <figcaption>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∏—Å—Ç–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å-–¥–∏—Å–∫ –∏–ª–∏ –î—Ä–æ–ø–±–æ–∫—Å, —á—Ç–æ–±—ã –∏—Å–∫–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞¬†–≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö</figcaption>
</figure>
</div>
</div>
<p>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤¬†—Ñ–∞–π–ª –ø—Ä–∏ —à—Ç–∞—Ç–Ω–æ–º –≤—ã—Ö–æ–¥–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏, —Ç–∞–∫ —á—Ç–æ –µ—Å–ª–∏ ¬´–º–æ—Ä–≥–Ω–µ—Ç¬ª —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ –∏–ª–∏ –µ—â–µ —á—Ç–æ¬†‚Äî –∫–æ–º–∞–Ω–¥—ã, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Å¬†–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ sqlite3, –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è.</p>
<p>–ö–æ–Ω–µ—á–Ω–æ, –∑–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ ‚Äî –Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ñ–∏—á–∞ –∫–æ–Ω—Å–æ–ª–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –Ω–µ–µ —É–¥–æ–±–Ω–æ <a href="https://stepik.org/lesson/469658/step/1?unit=460482">–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ</a> –∏–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å¬†–Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –±–∞–∑–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ê¬†–≤–æ—Ç –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å <a href="/sqlite-multiline/">–º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã</a>¬†‚Äî –Ω–µ¬†—Å–ª–∏—à–∫–æ–º —É–¥–æ–±–Ω–æ ü§∑‚Äç‚ôÄÔ∏è</p>
<div class="row">
<div class="col-xs-12 col-sm-10 col-md-8"><p><em>–ò¬†–ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞¬†–∫–∞–Ω–∞–ª <span class="nowrap"><i class="fas fa-database"></i> ¬´<a href="https://t.me/sqliter"><strong>SQLite –Ω–∞¬†–ø—Ä–∞–∫—Ç–∏–∫–µ</strong></a>¬ª</span></em></p></div>
</div>
]]></content:encoded></item><item><title>–ì–∏–±–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤¬†SQLite</title><link>https://antonz.ru/sqlite-types/</link><pubDate>Wed, 12 Jan 2022 15:15:00 +0000</pubDate><guid>https://antonz.ru/sqlite-types/</guid><description>–ü–æ—á–µ–º—É sqlite –Ω–∞–∑—ã–≤–∞—é—Ç ¬´–¥–∂–∞–≤–∞—Å–∫—Ä–∏–ø—Ç–æ–º –≤ –º–∏—Ä–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö¬ª.</description><content:encoded><![CDATA[<p>–õ—é–¥–∏ —á–∞—Å—Ç–æ –Ω–µ¬†–ø–æ–Ω–∏–º–∞—é—Ç, —á—Ç–æ –∑–∞¬†–µ—Ä—É–Ω–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤¬†SQLite —Å¬†—Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è.</p>
<p>SQLite –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—è—Ç—å —Ç–∏–ø–æ–≤:</p>
<ul>
<li><code>INTEGER</code>¬†‚Äî —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞,</li>
<li><code>REAL</code>¬†‚Äî –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞,</li>
<li><code>TEXT</code>¬†‚Äî —Å—Ç—Ä–æ–∫–∏,</li>
<li><code>BLOB</code>¬†‚Äî –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,</li>
<li><code>NULL</code>¬†‚Äî –ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.</li>
</ul>
<p>–ü–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ–æ–±—ã—á–Ω–æ–≥–æ (—Ç–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ –º–∞–ª–æ–≤–∞—Ç–æ –ø–æ¬†—Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å¬†–¥—Ä—É–≥–∏–º–∏ –°–£–ë–î).</p>
<p>–ê¬†–∫–∞–∫ –≤–∞–º —Ç–∞–∫–æ–µ:</p>
<blockquote>
<p>SQLite –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞¬†‚Äî –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç¬†—Ç–æ–≥–æ, –∫–∞–∫–æ–π —Ç–∏–ø —É–∫–∞–∑–∞–Ω –Ω–∞¬†—Å—Ç–æ–ª–±—Ü–µ.</p>
</blockquote>
<p>–•–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å —á–∏—Å–ª–æ <code>3.14</code> –≤¬†integer-–ø–æ–ª–µ? –ü–æ–∂–∞–ª—É–π—Å—Ç–∞ (–∏¬†–Ω–∏–∫–∞–∫–æ–≥–æ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è). –ò–ª–∏, –º–æ–∂–µ—Ç –±—ã—Ç—å, <code>'–ø—Ä–∏–≤–µ—Ç'</code> –≤¬†–ø–æ–ª–µ —Ç–∏–ø–∞ real? –ë–µ–∑ –ø—Ä–æ–±–ª–µ–º.</p>
<p>–î–µ–ª–æ –≤¬†—Ç–æ–º, —á—Ç–æ SQLite —Ö—Ä–∞–Ω–∏—Ç —Ç–∏–ø –Ω–µ¬†—Ç–æ–ª—å–∫–æ –Ω–∞¬†—Å—Ç–æ–ª–±—Ü–µ, –Ω–æ¬†–∏¬†–Ω–∞¬†–∫–∞–∂–¥–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ –≤¬†—Ç–∞–±–ª–∏—Ü–µ. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –≤¬†–æ–¥–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤. –¢–∏–ø –Ω–∞¬†—Å—Ç–æ–ª–±—Ü–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ SQLite –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∫¬†—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–º—É —Ç–∏–ø—É, –Ω–æ¬†–µ—Å–ª–∏ –Ω–µ¬†–ø–æ–ª—É—á–∏–ª–æ—Å—å¬†‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª.</p>
<p>–≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö¬†‚Äî –º–æ–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –≤—Å–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å, –∞¬†–ø–æ—Ç–æ–º —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ SQL —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è —Å¬†–ø—Ä–æ–±–ª–µ–º–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –õ—é–±–∞—è –¥—Ä—É–≥–∞—è –°–£–ë–î –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∏¬†–∑–∞—Å—Ç–∞–≤–∏—Ç –≤–∞—Å ¬´—à–µ—Ä—Å—Ç–∏—Ç—å¬ª —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –∏–ª–∏ –≤—Ä—É—á–Ω—É—é.</p>
<p>–°¬†–¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, —ç—Ç–æ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∑–∞¬†–∫–æ—Ç–æ—Ä–æ–µ –º–Ω–æ–≥–∏–µ –Ω–µ–¥–æ–ª—é–±–ª–∏–≤–∞—é—Ç SQLite –∏¬†–¥–∞–∂–µ –ø—Ä–æ–∑–≤–∞–ª–∏ –µ–≥–æ ¬´JavaScript –≤¬†–º–∏—Ä–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö¬ª. –°–æ¬†–≤—Ä–µ–º–µ–Ω–µ–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ SQLite –ø—Ä–∏—Å–ª—É—à–∞–ª–∏—Å—å –∏¬†—Å–¥–µ–ª–∞–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º ¬´—Å—Ç—Ä–æ–≥–∏—Ö¬ª —Ç–∞–±–ª–∏—Ü¬†‚Äî –Ω–æ¬†–æ¬†–Ω–µ–º –≤¬†–¥—Ä—É–≥–æ–π¬†—Ä–∞–∑.</p>
<div class="row">
<div class="col-xs-12 col-sm-10 col-md-8"><p><em>–ò¬†–ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞¬†–∫–∞–Ω–∞–ª <span class="nowrap"><i class="fas fa-database"></i> ¬´<a href="https://t.me/sqliter">SQLite –Ω–∞¬†–ø—Ä–∞–∫—Ç–∏–∫–µ</a>¬ª</span></em></p></div>
</div>
]]></content:encoded></item><item><title>–í—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è SQLite</title><link>https://antonz.ru/sqlean/</link><pubDate>Tue, 04 Jan 2022 11:30:00 +0000</pubDate><guid>https://antonz.ru/sqlean/</guid><description>–†–µ–≥—É–ª—è—Ä–∫–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —Ñ–∞–π–ª—ã –∏ –µ—â–µ 100+ —Ñ—É–Ω–∫—Ü–∏–π.</description><content:encoded><![CDATA[<p>–ú–Ω–µ –æ—á–µ–Ω—å –Ω—Ä–∞–≤–∏—Ç—Å—è SQLite. –≠—Ç–æ –º–∏–Ω–∏–∞—Ç—é—Ä–Ω–∞—è –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –±–∞–∑–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫ –∏¬†–≤¬†–∫–∞—á–µ—Å—Ç–≤–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (<a href="https://habr.com/ru/post/547448/">–ø–∏—Å–∞–ª –æ–±¬†—ç—Ç–æ–º</a>, –Ω–µ¬†–±—É–¥—É –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è).</p>
<p>–ù–æ¬†–µ—Å—Ç—å —É¬†–Ω–µ–µ –æ–¥–∏–Ω –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫: –º–∞–ª–æ–≤–∞—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø–æ¬†—Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å¬†PostgreSQL –∏–ª–∏ Oracle. –ö¬†—Å—á–∞—Å—Ç—å—é, –∞–≤—Ç–æ—Ä—ã –∑–∞–ª–æ–∂–∏–ª–∏ –≤¬†SQLite –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π, –Ω–∞¬†–∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ—á—Ç–∏ –≤—Å–µ —á—Ç–æ —É–≥–æ–¥–Ω–æ. –í¬†—Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –æ–±—Ä—ã–≤–æ—á–Ω—ã–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç —Ñ—É–Ω–∫—Ü–∏—é-–¥—Ä—É–≥—É—é.</p>
<p>–ú–Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å –±–æ–ª—å—à–æ–π —Å–∏—Å—Ç–µ–º–Ω–æ—Å—Ç–∏. –í¬†—Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ—è–≤–∏–ª—Å—è –ø—Ä–æ–µ–∫—Ç <strong>sqlean</strong>¬†‚Äî –≤¬†–Ω–µ–º —è¬†—Å–æ–±–∏—Ä–∞—é –≤–º–µ—Å—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –≤¬†SQLite —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é –∏—Ö¬†–ø–æ¬†–º–æ–¥—É–ª—è–º, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä—é –∫–æ–¥, –ø–∏—à—É —Ç–µ—Å—Ç—ã –∏¬†–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é. –ü–æ–ª—É—á–∞–µ—Ç—Å—è —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–∞–∫ –≤¬†Python –∏–ª–∏ Go, —Ç–æ–ª—å–∫–æ –¥–ª—è SQLite.</p>
<p>–Ø¬†–ø–ª–∞–Ω–∏—Ä—É—é –ø–æ–¥—Ä–æ–±–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –≤¬†–æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç—å–µ, –∞¬†–ø–æ–∫–∞¬†‚Äî –≤–æ—Ç –∫—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä.</p>
<h2 id="–æ—Å–Ω–æ–≤–Ω–æ–π-–Ω–∞–±–æ—Ä">–û—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–±–æ—Ä</h2>
<p>–≠—Ç–æ —Å–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ¬†—Ö–≤–∞—Ç–∞–ª–æ –≤¬†SQLite:</p>
<ul>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/crypto.md">crypto</a>: –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏–∏ –≤—Ä–æ–¥–µ MD5, SHA-1 –∏¬†SHA-256.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/fileio.md">fileio</a>: —Ä–∞–±–æ—Ç–∞ —Å¬†—Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π¬†‚Äî —á—Ç–µ–Ω–∏–µ –∏¬†–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤, —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–≤.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/fuzzy.md">fuzzy</a>: –Ω–µ—á–µ—Ç–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫, —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/ipaddr.md">ipaddr</a>: –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è IP-–∞–¥—Ä–µ—Å–∞–º–∏ –∏¬†–ø–æ–¥—Å–µ—Ç—è–º–∏.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/json1.md">json1</a>: —Ä–∞–±–æ—Ç–∞ —Å¬†JSON.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/math.md">math</a>: –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/re.md">re</a>: —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/stats.md">stats</a>: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞¬†‚Äî –º–µ–¥–∏–∞–Ω–∞, –ø—Ä–æ—Ü–µ–Ω—Ç–∏–ª–∏, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/text.md">text</a>: —Ä–∞–±–æ—Ç–∞ —Å–æ¬†—Å—Ç—Ä–æ–∫–∞–º–∏.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/unicode.md">unicode</a>: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —é–Ω–∏–∫–æ–¥–∞ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π <code>upper()</code>, <code>lower()</code> –∏¬†<code>LIKE</code>.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/uuid.md">uuid</a>: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤.</li>
<li><a href="https://github.com/nalgeon/sqlean/blob/main/docs/vsv.md">vsv</a>: —Ä–∞–±–æ—Ç–∞ —Å¬†CSV-—Ñ–∞–π–ª–∞–º–∏ –∫–∞–∫ —Å¬†—Ç–∞–±–ª–∏—Ü–∞–º–∏ –±–∞–∑—ã.</li>
</ul>
<p>–í—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –º–æ–∂–Ω–æ <a href="https://github.com/nalgeon/sqlean/releases/latest">—Å–∫–∞—á–∞—Ç—å</a> –¥–ª—è Windows, Linix –∏¬†macOS.</p>
<h2 id="–∏–Ω–∫—É–±–∞—Ç–æ—Ä">–ò–Ω–∫—É–±–∞—Ç–æ—Ä</h2>
<p>–§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞ –Ω–µ¬†–≤–æ—à–ª–∏ –≤¬†–æ—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–±–æ—Ä. –≠—Ç–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –ø–ª–æ—Ö–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã, –Ω–æ¬†—è¬†–∏—Ö¬†–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä—é –∏¬†–ø–µ—Ä–µ–Ω–æ—à—É –≤¬†–æ—Å–Ω–æ–≤–Ω—ã–µ.</p>
<ul>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1004109889">array</a>: —Ä–∞–±–æ—Ç–∞ —Å¬†–º–∞—Å—Å–∏–≤–∞–º–∏ (–ø–æ—á—Ç–∏ –∫–∞–∫ –≤¬†–ø–æ—Å—Ç–≥—Ä–µ—Å–µ).</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-999732640">besttype</a>: –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä–æ–∫—É –≤¬†–ø–æ–¥—Ö–æ–¥—è—â–∏–π —á–∏—Å–ª–æ–≤–æ–π —Ç–∏–ø.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1002267134">bloom</a>: –±—ã—Å—Ç—Ä—ã–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–Ω—è—Ç—å, –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤¬†—Ç–∞–±–ª–∏—Ü–µ –∏–ª–∏ –Ω–µ—Ç.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-996605444">cbrt</a>: –∫—É–±–∏—á–µ—Å–∫–∏–π –∫–æ—Ä–µ–Ω—å –∏–∑¬†—á–∏—Å–ª–∞.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1001239676">classifier</a>: –±–∏–Ω–∞—Ä–Ω—ã–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞¬†–ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1000937999">compress</a> –∏¬†<a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1000938046">sqlar</a>: –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –∏¬†—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-997427979">cron</a>: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞—Ç—ã –ø–æ¬†cron-—à–∞–±–ª–æ–Ω–∞–º.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1004347222">define</a>: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Å–∫–∞–ª—è—Ä–Ω—ã–µ –∏¬†—Ç–∞–±–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä—è–º–æ –∏–∑¬†SQL.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-997423609">envfuncs</a>: —á–∏—Ç–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-996432840">eval</a>: –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-997482625">fcmp</a>: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏¬†–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –¥—Ä–æ–±–µ–π.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-998138191">isodate</a>: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å¬†–¥–∞—Ç–∞–º–∏.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-999128539">math2</a>: –±–æ–ª—å—à–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏¬†–±–∏—Ç–æ–≤–æ–π –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-997417836">pearson</a>: –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –ü–∏—Ä—Å–æ–Ω–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –Ω–∞–±–æ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-997052157">pivotvtab</a>: —Å–≤–æ–¥–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-999732907">recsize</a>: —Å—á–∏—Ç–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∑–∞–ø–∏—Å–∏ –≤¬†—Ç–∞–±–ª–∏—Ü–µ.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1002297477">spellfix</a>: –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö —Å–ª–æ–≤ –≤¬†—Å–ª–æ–≤–∞—Ä–µ.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1000902666">stats2</a> –∏¬†<a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1002703581">stats3</a>: –µ—â–µ –±–æ–ª—å—à–µ –º–∞—Ç—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1003105288">text2</a>: –µ—â–µ –±–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ¬†—Å—Ç—Ä–æ–∫–∞–º–∏.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1001232670">uint</a>: –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏¬†—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö —á–∏—Å–ª–∞ (natsort).</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-997432989">unhex</a>: –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä–æ–∫—É –≤¬†–±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ–±—Ä–∞—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –¥–ª—è <code>hex()</code>).</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-997018486">xmltojson</a>: –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç XML –≤¬†JSON.</li>
<li><a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1001190336">zipfile</a>: —á–∏—Ç–∞–µ—Ç –∏¬†–ø–∏—à–µ—Ç zip-–∞—Ä—Ö–∏–≤—ã.</li>
</ul>
<p><a href="https://github.com/nalgeon/sqlean/issues/27">–ì–æ–ª–æ—Å—É–π—Ç–µ</a> –∑–∞¬†—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤¬†–∏–Ω–∫—É–±–∞—Ç–æ—Ä–µ! –ß–µ–º –ø–æ–ø—É–ª—è—Ä–Ω–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –æ–Ω–æ –ø–æ–ø–∞–¥–µ—Ç –≤¬†–æ—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–±–æ—Ä.</p>
<p>–ò–Ω–∫—É–±–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ç–æ–∂–µ –º–æ–∂–Ω–æ <a href="https://github.com/nalgeon/sqlean/releases/tag/incubator">—Å–∫–∞—á–∞—Ç—å</a>.</p>
<h2 id="–∫–∞–∫-–ø–æ–¥–∫–ª—é—á–∏—Ç—å-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ">–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ</h2>
<p>–ï—Å—Ç—å —Ç—Ä–∏ —Å–ø–æ—Å–æ–±–∞. –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å¬†–∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π SQLite (<code>sqlite.exe</code>):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000">sqlite</span><span style="color:#000">&gt;</span> .<span style="color:#a90d91">load</span> .<span style="color:#000">/</span><span style="color:#000">stats</span>
<span style="color:#000">sqlite</span><span style="color:#000">&gt;</span> <span style="color:#a90d91">select</span> <span style="color:#000">median</span>(<span style="color:#000">value</span>) <span style="color:#a90d91">from</span> <span style="color:#000">generate_series</span>(<span style="color:#1c01ce">1</span>, <span style="color:#1c01ce">99</span>);
</code></pre></div><p>–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—Ä–æ–¥–µ DB Browser for SQLite, SQLite Expert –∏–ª–∏ DBeaver:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#a90d91">select</span> <span style="color:#000">load_extension</span>(<span style="color:#c41a16">&#39;c:\Users\anton\sqlite\stats.dll&#39;</span>);
<span style="color:#a90d91">select</span> <span style="color:#000">median</span>(<span style="color:#000">value</span>) <span style="color:#a90d91">from</span> <span style="color:#000">generate_series</span>(<span style="color:#1c01ce">1</span>, <span style="color:#1c01ce">99</span>);
</code></pre></div><p>–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –∏–∑¬†Python (–≤¬†–¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a90d91">import</span> <span style="color:#000">sqlite3</span>

<span style="color:#000">connection</span> <span style="color:#000">=</span> <span style="color:#000">sqlite3</span><span style="color:#000">.</span><span style="color:#000">connect</span>(<span style="color:#c41a16">&#34;:memory:&#34;</span>)
<span style="color:#000">connection</span><span style="color:#000">.</span><span style="color:#000">enable_load_extension</span>(<span style="color:#a90d91">True</span>)
<span style="color:#000">connection</span><span style="color:#000">.</span><span style="color:#000">load_extension</span>(<span style="color:#c41a16">&#34;./stats.so&#34;</span>)
<span style="color:#000">connection</span><span style="color:#000">.</span><span style="color:#000">execute</span>(<span style="color:#c41a16">&#34;select median(value) from generate_series(1, 99)&#34;</span>)
<span style="color:#000">connection</span><span style="color:#000">.</span><span style="color:#000">close</span>()
</code></pre></div><h2 id="—á—Ç–æ-–¥–∞–ª—å—à–µ">–ß—Ç–æ –¥–∞–ª—å—à–µ</h2>
<p>–ï—Å–ª–∏ –ø–æ—á—É–≤—Å—Ç–≤—É–µ—Ç–µ, —á—Ç–æ –≤¬†SQLite –≤–∞–º –Ω–µ¬†—Ö–≤–∞—Ç–∞–µ—Ç –∫–∞–∫–æ–π-—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏¬†‚Äî¬†–ø—Ä–∏—Ö–æ–¥–∏—Ç–µ –≤¬†—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π <a href="https://github.com/nalgeon/sqlean"><strong>sqlean</strong></a>, —Ç–∞–º –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –Ω–∞–π–¥–µ—Ç—Å—è.</p>
<p>–Ø¬†–ø—Ä–æ–¥–æ–ª–∂–∞—é –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤¬†–∏–Ω–∫—É–±–∞—Ç–æ—Ä, –∞¬†—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏–∑¬†–∏–Ω–∫—É–±–∞—Ç–æ—Ä–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä—é –∏¬†–ø–µ—Ä–µ–Ω–æ—à—É –≤¬†–æ—Å–Ω–æ–≤–Ω—ã–µ. –ü–æ¬†–∫–∞–∂–¥–æ–º—É –æ—Å–Ω–æ–≤–Ω–æ–º—É –º–æ–¥—É–ª—é –ø–ª–∞–Ω–∏—Ä—É—é –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç–∞—Ç—å—é —Å¬†–ø—Ä–∏–º–µ—Ä–∞–º–∏.</p>
<p>–ê¬†–µ—Å–ª–∏ –∑–∞—Ö–æ—Ç–∏—Ç–µ –ø–æ—É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å¬†‚Äî –ø—Ä–∏—Å—ã–ª–∞–π—Ç–µ <a href="https://github.com/nalgeon/sqlean/blob/incubator/docs/submit.md">—Å–≤–æ–∏</a> –∏–ª–∏ <a href="https://github.com/nalgeon/sqlean/blob/incubator/docs/external.md">—á—É–∂–∏–µ</a> —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.</p>
<p>–í—Å–µ–º SQLite!</p>
]]></content:encoded></item><item><title>2022</title><link>https://antonz.ru/2022/</link><pubDate>Sat, 01 Jan 2022 00:00:00 +0000</pubDate><guid>https://antonz.ru/2022/</guid><description/><content:encoded></content:encoded></item><item><title>–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö —Å–ª–æ–≤ –Ω–∞ SQL</title><link>https://antonz.ru/similar-words/</link><pubDate>Thu, 02 Dec 2021 13:30:00 +0000</pubDate><guid>https://antonz.ru/similar-words/</guid><description>–§–æ–Ω–µ—Ç–∏–∫–∞, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ –Ω–∏–∫–∞–∫–æ–≥–æ LIKE.</description><content:encoded><![CDATA[<p><em>–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è, –∫–∞–∫ –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –ø–æ—Ö–æ–∂–µ–µ —Å–ª–æ–≤–æ –≤ –æ–≥—Ä–æ–º–Ω–æ–º —Å–ª–æ–≤–∞—Ä–µ. –°–Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –ø–æ—Ç–æ–º —Å–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ–º –±—ã—Å—Ç—Ä–æ–µ, –∞ –≤ –∫–æ–Ω—Ü–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –≥–æ—Ç–æ–≤–æ–µ.</em></p>
<p>–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –º—ã¬†—Ö–æ—Ç–∏–º –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ–ø–µ—á–∞—Ç–∫–∏ –≤¬†–ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö —á–∞—Ç–∞. –ß–µ–ª–æ–≤–µ–∫ –≤–≤–æ–¥–∏—Ç ¬´–∞<span class="color-red">–±</span>—Ä<span class="color-red">–∏</span>–≤–∏–∞—Ç—É—Ä–∞¬ª, –º—ã¬†–∏—Å–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞¬†¬´–∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞¬ª, ¬´—Ä–∞<span class="color-red">—Å—Å</span>—á–µ—Ç¬ª ‚Üí ¬´—Ä–∞—Å—á–µ—Ç¬ª, ¬´–¥–æ—Ä–æ<span class="color-red">–∞–≥</span>¬ª ‚Üí¬†¬´–¥–æ—Ä–æ–≥–∞¬ª. –ü–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Ä–µ—à–∏—Ç—å —Ç–∞–∫—É—é –∑–∞–¥–∞—á—É –Ω–∞¬†SQL.</p>
<p>–Ø¬†–±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite. –ù–æ¬†–∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Å¬†–ª—é–±–æ–π –°–£–ë–î –∏–ª–∏ —è–∑—ã–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ¬†‚Äî¬†–¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å, —Å–¥–µ–ª–∞—é –ø—Ä–∏–º–µ—Ä—ã –Ω–∞¬†Python).</p>
<h2 id="dictinary">1. –°–æ–±–∏—Ä–∞–µ–º —Å–ª–æ–≤–∞—Ä—å</h2>
<p>–í–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è —Å–ø–∏—Å–∫–æ–º —Ä—É—Å—Å–∫–∏—Ö —Å–ª–æ–≤ –≤–æ¬†–≤—Å–µ—Ö –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º–∞—Ö –∏–∑¬†—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è <a href="https://github.com/danakt/russian-words">russian-words</a>. –°–∫–∞—á–∞–µ–º –∏¬†—Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤¬†UTF-8:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ wget https://github.com/danakt/russian-words/raw/master/russian.txt
$ iconv -f cp1251 russian.txt &gt; russian.utf.csv
</code></pre></div><p>–ó–∞–≥—Ä—É–∑–∏–º –≤¬†—Ç–∞–±–ª–∏—Ü—É <code>words</code>:</p>
<pre tabindex="0"><code>$ sqlite3 dictionary.db
sqlite&gt; create table words(word text);
sqlite&gt; .mode csv
sqlite&gt; .import russian.utf.csv words
sqlite&gt; create unique index words_idx on words(word);
sqlite&gt; select count(*) from words;
1532629
</code></pre><p>–°–ª–æ–≤–∞—Ä—å –∏–∑¬†1.5¬†–º–ª–Ω —Å–ª–æ–≤ –≥–æ—Ç–æ–≤.</p>
<p>–ö–æ–≥–¥–∞ —á–µ–ª–æ–≤–µ–∫ –≤–≤–µ–ª –∫–∞–∫–æ–µ-—Ç–æ —Å–ª–æ–≤–æ (¬´–∞–±—Ä–∏–≤–∏–∞—Ç—É—Ä–∞¬ª) ‚Äî –Ω–µ—Å–ª–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å¬†–ª–∏ –æ–Ω–æ –≤¬†—Å–ª–æ–≤–∞—Ä–µ:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#a90d91">select</span> <span style="color:#1c01ce">1</span> <span style="color:#a90d91">from</span> <span style="color:#000">words</span> <span style="color:#a90d91">where</span> <span style="color:#000">word</span> <span style="color:#000">=</span> <span style="color:#c41a16">&#39;–∞–±—Ä–∏–≤–∏–∞—Ç—É—Ä–∞&#39;</span>;
<span style="color:#177500">-- &lt;–ø—É—Å—Ç–æ&gt;
</span></code></pre></div><p>–†–∞–∑ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤¬†—Å–ª–æ–≤–∞—Ä–µ –Ω–µ—Ç¬†‚Äî¬†–≤¬†—Å–ª–æ–≤–µ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –æ–ø–µ—á–∞—Ç–∫–∞. –ß—Ç–æ–±—ã –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –ø—Ä–∏–¥–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ö–æ–∂–µ–µ —Å–ª–æ–≤–æ –≤¬†<code>words</code>.</p>
<h2 id="distance">2. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ—Ö–æ–∂–µ—Å—Ç—å —Å–ª–æ–≤</h2>
<p>–ß–µ–ª–æ–≤–µ–∫—É –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —Ç–∞–∫–æ–µ ¬´–ø–æ—Ö–æ–∂–µ–µ¬ª –∏–ª–∏ ¬´–Ω–µ–ø–æ—Ö–æ–∂–µ–µ¬ª —Å–ª–æ–≤–æ, –Ω–æ¬†–º–∞—à–∏–Ω–µ –Ω—É–∂–µ–Ω —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π.</p>
<p>–ò–¥–µ–∞–ª—å–Ω–æ, –µ—Å–ª–∏¬†–±—ã –º—ã¬†—É–º–µ–ª–∏ –∏–∑–º–µ—Ä—è—Ç—å <em>—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ</em> –º–µ–∂–¥—É —Å–ª–æ–≤–∞–º–∏. –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞¬†–≤—Ö–æ–¥–µ –¥–≤–∞ —Å–ª–æ–≤–∞ –∏¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ <code>D</code>, –∫–æ—Ç–æ—Ä–æ–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç –ø–æ—Ö–æ–∂–µ—Å—Ç—å:</p>
<pre tabindex="0"><code>distance(w1, w1) = x
</code></pre><p>–ß–µ–º –º–µ–Ω—å—à–µ <code>D</code>, —Ç–µ–º –±–æ–ª–µ–µ –ø–æ—Ö–æ–∂–∏ —Å–ª–æ–≤–∞.</p>
<p>–ü—Ä–∏—è—Ç–Ω–æ, —á—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –ø–æ¬†–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–º –Ω–∞—É–∫–∞–º —É–∂–µ –ø—Ä–∏–¥—É–º–∞–ª–∏ –≤–µ–ª–∏–∫–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–∞–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ù–∞–∏–±–æ–ª–µ–µ –∏–∑–≤–µ—Å—Ç–Ω–∞—è –∏–∑¬†–Ω–∏—Ö¬†‚Äî <em>—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞</em>. –û–Ω–∞ –∏–∑–º–µ—Ä—è–µ—Ç, —Å–∫–æ–ª—å–∫–æ –±—É–∫–≤ –Ω–∞–¥–æ —É–¥–∞–ª–∏—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç¬†—Å–ª–æ–≤–∞ <code>w1</code> –∫¬†—Å–ª–æ–≤—É <code>w2</code>:</p>
<div class="row">
<div class="col-xs-12 col-sm-6">
<figure>
  <img class="img-bordered-thin" alt="–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞" src="distance.jpg">
</figure>
</div>
<div class="col-xs-12 col-sm-6">
<p class="figcaption">–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞ —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã—Ö –∑–∞–º–µ–Ω, –∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –æ–¥–Ω–æ —Å–ª–æ–≤–æ –≤¬†–¥—Ä—É–≥–æ–µ.</p>
</div>
</div>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#177500"># –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è: —É–¥–∞–ª–∏—Ç—å –ª–∏—à–Ω—é—é –°</span>
<span style="color:#000">levenshtein</span>(<span style="color:#c41a16">&#34;—Ä–∞—Å—Å—á–µ—Ç&#34;</span>, <span style="color:#c41a16">&#34;—Ä–∞—Å—á–µ—Ç&#34;</span>) <span style="color:#000">=</span> <span style="color:#1c01ce">1</span>

<span style="color:#177500"># –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é –ª–∏—à–Ω—é—é –õ</span>
<span style="color:#000">levenshtein</span>(<span style="color:#c41a16">&#34;—Å–æ–Ω—Ü–µ&#34;</span>, <span style="color:#c41a16">&#34;—Å–æ–ª–Ω—Ü–µ&#34;</span>) <span style="color:#000">=</span> <span style="color:#1c01ce">1</span>

<span style="color:#177500"># –¥–≤–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: –∑–∞–º–µ–Ω–∏—Ç—å –ê‚Üí–ì, –∑–∞–º–µ–Ω–∏—Ç—å –ì‚Üí–ê</span>
<span style="color:#000">levenshtein</span>(<span style="color:#c41a16">&#34;–¥–æ—Ä–æ–∞–≥&#34;</span>, <span style="color:#c41a16">&#34;–¥–æ—Ä–æ–≥–∞&#34;</span>) <span style="color:#000">=</span> <span style="color:#1c01ce">2</span>
</code></pre></div><p>–ü—Ä–∏–º–µ—Ä —Å¬†¬´–¥–æ—Ä–æ–∞–≥¬ª ‚Üí ¬´–¥–æ—Ä–æ–≥–∞¬ª –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–Ω—ã–º: –æ—á–µ–≤–∏–¥–Ω–æ¬†–∂–µ, —á—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ—Å—Ç–∞–≤–∏—Ç—å –±—É–∫–≤—ã –º–µ—Å—Ç–∞–º–∏. –ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ ‚Äî –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è, –∏¬†—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 1, –∞¬†–Ω–µ¬†2. –ê–ª–≥–æ—Ä–∏—Ç–º –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞ –Ω–µ¬†—É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–∞–∫–∏–µ —Å–ª—É—á–∞–∏, –ø–æ—ç—Ç–æ–º—É —Å–æ–∑–¥–∞–ª–∏ —É–ª—É—á—à–µ–Ω–Ω—É—é –∏¬†–¥–æ–ø–æ–ª–Ω–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é¬†‚Äî¬†<em>—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –î–∞–º–µ—Ä–∞—É-–õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞</em>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#000">dlevenshtein</span>(<span style="color:#c41a16">&#34;–¥–æ—Ä–æ–∞–≥&#34;</span>, <span style="color:#c41a16">&#34;–¥–æ—Ä–æ–≥–∞&#34;</span>) <span style="color:#000">=</span> <span style="color:#1c01ce">1</span>
</code></pre></div><p>–ï–≥–æ –∏ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.</p>
<div class="boxed">
<h3>–°—á–∏—Ç–∞–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤¬†SQLite</h3>
<p>–í¬†—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –ø–æ—Å—Ç–∞–≤–∫—É SQLite —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –Ω–µ¬†–≤—Ö–æ–¥—è—Ç. –ü–æ—ç—Ç–æ–º—É –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ <a href="https://github.com/nalgeon/sqlean/blob/main/docs/fuzzy.md">fuzzy</a>, –≤¬†–∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ:</p>
<pre><code>-- –≤ –∫–æ–Ω—Å–æ–ª–∏ sqlite
.load ./fuzzy<br>
-- –∏–ª–∏ —á–µ—Ä–µ–∑ select
select load_extension('./fuzzy');
</code></pre>
<p>–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å¬†ASCII-—Å—Ç—Ä–æ–∫–∞–º–∏ (–ª–∞—Ç–∏–Ω–∏—Ü–µ–π), —Ç–∞–∫ —á—Ç–æ —Ä—É—Å—Å–∫–∏–µ —Å–ª–æ–≤–∞ –ø—Ä–∏–¥–µ—Ç—Å—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å (–ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤¬†–ª–∞—Ç–∏–Ω–∏—Ü—É) —Ñ—É–Ω–∫—Ü–∏–µ–π <code>translit</code>:</p>
<pre><code>select translit('–¥–æ—Ä–æ–≥–∞');
-- doroga<br>
select translit('–¥–æ—Ä–æ–∞–≥');
-- doroag<br>
select dlevenshtein(
  translit('–¥–æ—Ä–æ–≥–∞'),
  translit('–¥–æ—Ä–æ–∞–≥')
);
-- 1</code></pre>
</div>
<h2 id="search-distance">3. –ò—â–µ–º –ø–æ—Ö–æ–∂–µ–µ —Å–ª–æ–≤–æ –≤ —Å–ª–æ–≤–∞—Ä–µ</h2>
<p>–ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ–ø–µ—á–∞—Ç–∫—É –≤¬†—Å–ª–æ–≤–µ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç¬†–Ω–µ–≥–æ –¥–æ¬†–∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –≤¬†—Å–ª–æ–≤–∞—Ä–µ –∏¬†–≤—ã–±—Ä–∞—Ç—å —Å–ª–æ–≤–æ —Å¬†–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º.</p>
<div class="row">
<div class="col-xs-12 col-sm-6">
<figure>
  <img class="img-bordered-thin" alt="–ü–æ–∏—Å–∫ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é" src="search-distance.jpg">
</figure>
</div>
<div class="col-xs-12 col-sm-6">
<p class="figcaption">–°—á–∏—Ç–∞–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Å–ª–æ–≤–æ–º —Å¬†–æ–ø–µ—á–∞—Ç–∫–æ–π –∏¬†–æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ ‚Üí –ø–æ–ª—É—á–∞–µ–º –Ω–∞–±–æ—Ä —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π. –í—ã–±–∏—Ä–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ ‚Üí –ø–æ–ª—É—á–∞–µ–º —Å–ª–æ–≤–æ —Å¬†–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –æ–ø–µ—á–∞—Ç–∫–æ–π.</p>
<p class="figcaption">–û—Ç–ª–∏—á–Ω—ã–π –±—ã–ª¬†–±—ã –∞–ª–≥–æ—Ä–∏—Ç–º, –µ—Å–ª–∏¬†–±—ã –Ω–µ¬†—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ–ª—Ç–æ—Ä–∞ –º–∏–ª–ª–∏–æ–Ω–∞ —Å–ª–æ–≤.</p>
</div>
</div>
<p>–ù–∞ SQL:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#a90d91">select</span>
  <span style="color:#000">word</span>,
  <span style="color:#000">dlevenshtein</span>(
    <span style="color:#000">translit</span>(<span style="color:#c41a16">&#39;–∞–±—Ä–∏–≤–∏–∞—Ç—É—Ä–∞&#39;</span>),
    <span style="color:#000">translit</span>(<span style="color:#000">word</span>)
  ) <span style="color:#a90d91">as</span> <span style="color:#000">distance</span>
<span style="color:#a90d91">from</span> <span style="color:#000">words</span>
<span style="color:#a90d91">order</span> <span style="color:#a90d91">by</span> <span style="color:#000">distance</span>
<span style="color:#a90d91">limit</span> <span style="color:#1c01ce">1</span>;
</code></pre></div><pre tabindex="0"><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     word     ‚îÇ distance ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ ‚îÇ 2        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
Run Time: real 8.145 user 8.055009 sys 0.051747
</code></pre><p>–û—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç! –û–¥–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞: —Ä–∞—Å—á–µ—Ç –∑–∞–Ω–∏–º–∞–µ—Ç 8 —Å–µ–∫—É–Ω–¥. –î–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—á–∞—Ç–æ–∫ –≤¬†–æ–Ω–ª–∞–π–Ω–µ –Ω–µ¬†–ø–æ–¥—Ö–æ–¥–∏—Ç. –ù–∞–º –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ —É–ª–æ–∂–∏—Ç—å—Å—è –≤¬†50‚Äì200 –º—Å, —á—Ç–æ–±—ã –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞ –≤—ã–≥–ª—è–¥–µ–ª–æ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º. –ò—Å–ø—Ä–∞–≤–∏–º¬†—ç—Ç–æ.</p>
<h2 id="phonetics">4. –§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
<p>–ü—Ä–æ–±–ª–µ–º–∞ —Å¬†—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º –≤¬†—Ç–æ–º, —á—Ç–æ –µ–≥–æ –Ω–µ–ª—å–∑—è –ø–æ—Å—á–∏—Ç–∞—Ç—å –∑–∞—Ä–∞–Ω–µ–µ¬†‚Äî¬†–º—ã¬†–∂–µ –Ω–µ¬†–∑–Ω–∞–µ–º, –∫–∞–∫–æ–µ —Å–ª–æ–≤–æ –≤–≤–µ–¥–µ—Ç —á–µ–ª–æ–≤–µ–∫. –ó–¥–µ—Å—å –ø–æ–º–æ–∂–µ—Ç <em>—Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ</em>:</p>
<div class="row">
<div class="col-xs-12 col-sm-6">
<figure>
  <img class="img-bordered-thin" alt="–§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º" src="phonetics.jpg">
</figure>
</div>
<div class="col-xs-12 col-sm-6">
<p class="figcaption">–§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ (<code>—Å–æ–ª–Ω—Ü–µ</code>) –≤¬†<em>—Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–¥</em>¬†(<code>SNTK</code>). –ü—Ä–∏ —ç—Ç–æ–º —Å–æ–∑–≤—É—á–Ω—ã–µ —Å–ª–æ–≤–∞ –ø–æ–ª—É—á–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫–æ–¥—ã, –∞ –Ω–µ—Å–æ–∑–≤—É—á–Ω—ã–µ ‚Äî —Ä–∞–∑–Ω—ã–µ.</p>
</div>
</div>
<p>–¢–µ–ø–µ—Ä—å –º—ã¬†–º–æ–∂–µ–º –æ–±–æ–π—Ç–∏—Å—å –±–µ–∑ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –≤–æ–æ–±—â–µ:</p>
<ol>
<li>–ó–∞—Ä–∞–Ω–µ–µ –ø–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–¥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –≤¬†—Å–ª–æ–≤–∞—Ä–µ.</li>
<li>–ü–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–¥ –¥–ª—è —Å–ª–æ–≤–∞ —Å¬†–æ–ø–µ—á–∞—Ç–∫–æ–π, –∫–æ—Ç–æ—Ä–æ–µ –≤–≤–µ–ª —á–µ–ª–æ–≤–µ–∫.</li>
<li>–ù–∞–π—Ç–∏ —Å–ª–æ–≤–æ –≤¬†—Å–ª–æ–≤–∞—Ä–µ –ø–æ¬†—ç—Ç–æ–º—É –∫–æ–¥—É¬†‚Äî¬†—ç—Ç–æ –∏¬†–±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç.</li>
</ol>
<div class="row">
<div class="col-xs-12 col-sm-6">
<figure>
  <img class="img-bordered-thin" alt="–ü–æ–∏—Å–∫ –ø–æ —Ñ–æ–Ω–µ—Ç–∏–∫–µ" src="search-phonetics.jpg">
</figure>
</div>
<div class="col-xs-12 col-sm-6">
<p class="figcaption">–†–∞–±–æ—Ç–∞—Ç—å¬†–¥–æ–ª–∂–Ω–æ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ¬†—Å—Ç–æ–ª–±—Ü—É —Å¬†–∫–æ–¥–∞–º–∏ –º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å, –∏¬†–∏—Å–∫–∞—Ç—å –ø–æ¬†–Ω–µ–º—É.</p>
</div>
</div>
<p>–ü–æ–ø—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—á–∞—Ç–æ–∫.</p>
<h2 id="search-phonetics">5. –ò—â–µ–º –ø–æ —Ñ–æ–Ω–µ—Ç–∏–∫–µ</h2>
<p>–§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø—Ä–∏–¥—É–º—ã–≤–∞–ª–∏ –¥–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞, –∏¬†–Ω–∞¬†—Ä—É—Å—Å–∫–æ–º –æ–Ω–∏ –Ω–µ¬†—Ä–∞–±–æ—Ç–∞—é—Ç. –ù–∞–º –ø—Ä–∏–¥–µ—Ç—Å—è –ø—Ä–∏–±–µ–≥–Ω—É—Ç—å –∫¬†—Ç—Ä—é–∫—É —Å¬†—Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–µ–π.</p>
<p>–£¬†—Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤ —Ñ–æ–Ω–µ—Ç–∏–∫–∞ —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç¬†¬´—Ä–æ–¥–Ω–æ–π¬ª –∞–Ω–≥–ª–∏–π—Å–∫–æ–π, –ø–æ—ç—Ç–æ–º—É –º–Ω–æ–≥–∏–µ —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å¬†—Ç—Ä–∞–Ω—Å–ª–∏—Ç–æ–º. –ú—ã¬†–≤–æ–∑—å–º–µ–º —Ñ—É–Ω–∫—Ü–∏—é <code>caverphone</code>¬†‚Äî –æ–Ω–∞ –Ω–∞¬†—É–¥–∏–≤–ª–µ–Ω–∏–µ –Ω–µ–¥—É—Ä–Ω–∞, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞¬†–∞–≤—Å—Ç—Ä–∞–ª–∏–π—Å–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#34;—Ä–∞—Å—Å—á–µ—Ç&#34;</span>)) <span style="color:#000">=</span> <span style="color:#c41a16">&#34;RSKT111111&#34;</span>
<span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#34;—Ä–∞—Å—á–µ—Ç&#34;</span>))  <span style="color:#000">=</span> <span style="color:#c41a16">&#34;RSKT111111&#34;</span>

<span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#34;—Å–æ–Ω—Ü–µ&#34;</span>))  <span style="color:#000">=</span> <span style="color:#c41a16">&#34;SNTK111111&#34;</span>
<span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#34;—Å–æ–ª–Ω—Ü–µ&#34;</span>)) <span style="color:#000">=</span> <span style="color:#c41a16">&#34;SNTK111111&#34;</span>

<span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#34;–∞–±—Ä–∏–≤–∏–∞—Ç—É—Ä–∞&#34;</span>))  <span style="color:#000">=</span> <span style="color:#c41a16">&#34;APRFTRA111&#34;</span>
<span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#34;–∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞&#34;</span>)) <span style="color:#000">=</span> <span style="color:#c41a16">&#34;APRFTRA111&#34;</span>
</code></pre></div><p>–†–∞—Å—Å—á–∏—Ç–∞–µ–º –∫–æ–¥—ã –¥–ª—è —Å–ª–æ–≤ –∏–∑ —Å–ª–æ–≤–∞—Ä—è –∏ –ø–æ—Å—Ç—Ä–æ–∏–º –∏–Ω–¥–µ–∫—Å:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#a90d91">alter</span> <span style="color:#a90d91">table</span> <span style="color:#000">words</span> <span style="color:#a90d91">add</span> <span style="color:#a90d91">column</span> <span style="color:#000">hash</span> <span style="color:#a90d91">text</span>;
<span style="color:#a90d91">update</span> <span style="color:#000">words</span> <span style="color:#a90d91">set</span> <span style="color:#000">hash</span> <span style="color:#000">=</span> <span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#000">word</span>));
<span style="color:#a90d91">create</span> <span style="color:#a90d91">index</span> <span style="color:#000">words_hash_idx</span> <span style="color:#a90d91">on</span> <span style="color:#000">words</span>(<span style="color:#000">hash</span>);
</code></pre></div><p>–ò—Å–ø—Ä–∞–≤–∏–º –æ–ø–µ—á–∞—Ç–∫—É –≤ —Å–ª–æ–≤–µ <code>–∞–±—Ä–∏–≤–∏–∞—Ç—É—Ä–∞</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#a90d91">select</span> <span style="color:#000">word</span>
<span style="color:#a90d91">from</span> <span style="color:#000">words</span>
<span style="color:#a90d91">where</span> <span style="color:#000">hash</span> <span style="color:#000">=</span> <span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#39;–∞–±—Ä–∏–≤–∏–∞—Ç—É—Ä–∞&#39;</span>))
<span style="color:#a90d91">limit</span> <span style="color:#1c01ce">3</span>;
</code></pre></div><pre tabindex="0"><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     word      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞  ‚îÇ
‚îÇ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–æ–π ‚îÇ
‚îÇ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–æ—é ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
Run Time: real 0.002 user 0.000130 sys 0.000391
</code></pre><p>–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ! –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∏¬†–≤–µ—Ä–Ω—É–ª –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å–ª–æ–≤–∞ –∏–∑¬†—Å–ª–æ–≤–∞—Ä—è.</p>
<h2 id="search-combined">6. –ò—â–µ–º –ø–æ —Ñ–æ–Ω–µ—Ç–∏–∫–µ –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é</h2>
<p>–ö–∞–∫ —É–¥–∞—á–Ω–æ –≤—Å–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å —Å¬†¬´–∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–æ–π¬ª. –ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞¬†¬´—Ä–∞—Å—á–µ—Ç–µ¬ª:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#a90d91">select</span> <span style="color:#000">word</span>
<span style="color:#a90d91">from</span> <span style="color:#000">words</span>
<span style="color:#a90d91">where</span> <span style="color:#000">hash</span> <span style="color:#000">=</span> <span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#39;—Ä–∞—Å—Å—á–µ—Ç&#39;</span>))
<span style="color:#a90d91">limit</span> <span style="color:#1c01ce">3</span>;
</code></pre></div><pre tabindex="0"><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    word    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ —Ä–∞–∑–∂–∏–≥–∞–µ—Ç  ‚îÇ
‚îÇ —Ä–∞–∑–∂–∏–≥–∞–µ—Ç–µ ‚îÇ
‚îÇ —Ä–∞–∑–∂–∏–≥–∞–π—Ç–µ ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre><p>–≠—ç—ç. –°–æ–≤—Å–µ–º –Ω–µ¬†—Ç–æ, —á–µ–≥–æ –º—ã¬†–æ–∂–∏–¥–∞–ª–∏. –ü—Ä–æ–±–ª–µ–º–∞ –≤¬†—Ç–æ–º, —á—Ç–æ —É¬†¬´—Ä–∞—Å—á–µ—Ç–∞¬ª —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Ö–æ–∂–∏—Ö¬†—Å–ª–æ–≤ –¥–æ–≤–æ–ª—å–Ω–æ –º–Ω–æ–≥–æ:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#a90d91">select</span> <span style="color:#a90d91">count</span>(<span style="color:#000">*</span>)
<span style="color:#a90d91">from</span> <span style="color:#000">words</span>
<span style="color:#a90d91">where</span> <span style="color:#000">hash</span> <span style="color:#000">=</span> <span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#39;—Ä–∞—Å—Å—á–µ—Ç&#39;</span>));
<span style="color:#177500">-- 50
</span></code></pre></div><p>–ù–∞–º¬†–±—ã –∫–∞–∫-—Ç–æ –Ω–∞–π—Ç–∏ —Å—Ä–µ–¥–∏ —ç—Ç–∏—Ö –ø—è—Ç–∏–¥–µ—Å—è—Ç–∏ —Å–∞–º–æ–µ –ø–æ—Ö–æ–∂–µ–µ. –•–æ—Ä–æ—à–æ, —á—Ç–æ –º—ã¬†—É–∂–µ –∑–Ω–∞–µ–º –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å¬†‚Äî¬†—Å¬†–ø–æ–º–æ—â—å—é —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –î–∞–º–µ—Ä–∞—É-–õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞! –ë—É–¥–µ–º –≤—ã–±–∏—Ä–∞—Ç—å —Å–ª–æ–≤–∞-–∫–∞–Ω–¥–∏–¥–∞—Ç—ã –ø–æ¬†—Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–º—É –∫–æ–¥—É, –∞¬†–Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∏–∑¬†–∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤¬†‚Äî –ø–æ¬†—Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é:</p>
<figure>
  <img class="img-bordered-thin" alt="–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫" src="search-combined.png">
  <figcaption>–¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∏—Ä—É–µ–º —Å–ª–æ–≤–æ, —Å—á–∏—Ç–∞–µ–º —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–¥, –∑–∞—Ç–µ–º –∏—â–µ–º –ø–æ¬†–Ω–µ–º—É –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –∏¬†–≤—ã–±–∏—Ä–∞–µ–º –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–æ¬†—Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è—é.</figcaption>
</figure>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#177500">-- –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –ø–æ —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–º—É –∫–æ–¥—É
</span><span style="color:#177500"></span><span style="color:#a90d91">with</span> <span style="color:#000">candidates</span> <span style="color:#a90d91">as</span> (
  <span style="color:#a90d91">select</span> <span style="color:#000">word</span>
  <span style="color:#a90d91">from</span> <span style="color:#000">words</span>
  <span style="color:#a90d91">where</span> <span style="color:#000">hash</span> <span style="color:#000">=</span> <span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#39;—Ä–∞—Å—Å—á–µ—Ç&#39;</span>))
)

<span style="color:#177500">-- –≤—ã–±–∏—Ä–∞–µ–º –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º
</span><span style="color:#177500"></span><span style="color:#a90d91">select</span>
  <span style="color:#000">word</span>,
  <span style="color:#000">dlevenshtein</span>(
    <span style="color:#000">translit</span>(<span style="color:#c41a16">&#39;—Ä–∞—Å—Å—á–µ—Ç&#39;</span>),
    <span style="color:#000">translit</span>(<span style="color:#000">word</span>)
  ) <span style="color:#a90d91">as</span> <span style="color:#000">distance</span>
<span style="color:#a90d91">from</span> <span style="color:#000">candidates</span>
<span style="color:#a90d91">order</span> <span style="color:#a90d91">by</span>
  <span style="color:#000">distance</span>,
  <span style="color:#a90d91">abs</span>(<span style="color:#a90d91">length</span>(<span style="color:#000">word</span>) <span style="color:#000">-</span> <span style="color:#a90d91">length</span>(<span style="color:#c41a16">&#39;—Ä–∞—Å—Å—á–µ—Ç&#39;</span>)),
  <span style="color:#a90d91">length</span>(<span style="color:#000">word</span>)
<span style="color:#a90d91">limit</span> <span style="color:#1c01ce">3</span>;
</code></pre></div><pre tabindex="0"><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   word   ‚îÇ distance ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ —Ä–∞—Å—á–µ—Ç   ‚îÇ 1        ‚îÇ
‚îÇ —Ä–∞—Å—á—ë—Ç   ‚îÇ 1        ‚îÇ
‚îÇ —Ä–∞—Å—Å–µ—á–µ—Ç ‚îÇ 1        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
Run Time: real 0.014 user 0.000729 sys 0.003712
</code></pre><p>–¢–æ¬†—á—Ç–æ –Ω–∞–¥–æ! –ü–æ–∏—Å–∫ –æ—Å—Ç–∞–ª—Å—è –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º (–±–ª–∞–≥–æ–¥–∞—Ä—è –≤—ã–±–æ—Ä–∫–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –ø–æ¬†–∏–Ω–¥–µ–∫—Å—É), –Ω–æ¬†—Å—Ç–∞–ª —Ç–æ—á–Ω—ã–º (–±–ª–∞–≥–æ–¥–∞—Ä—è —á–µ—Å—Ç–Ω–æ–º—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏).</p>
<h2 id="other-typos">7. –£—á–∏—Ç—ã–≤–∞–µ–º –Ω–µ—Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—á–∞—Ç–∫–∏</h2>
<p>–í—Å–µ –∑–¥–æ—Ä–æ–≤–æ –≤¬†–Ω–∞—à–µ–º –ø–æ—Ö–æ–¥–µ. –ö—Ä–æ–º–µ –æ–¥–Ω–æ–≥–æ: –Ω–µ¬†–≤—Å–µ –æ–ø–µ—á–∞—Ç–∫–∏ —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ. –ï—Å–ª–∏ –ø–µ—Ä–µ–ø—É—Ç–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ –±—É–∫–≤ –≤¬†—Å–ª–æ–≤–µ <code>–¥–æ—Ä–æ–≥–∞</code>, –∑–≤—É—á–∞—Ç—å —Å–ª–æ–≤–∞ –±—É–¥—É—Ç —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –ø–æ-—Ä–∞–∑–Ω–æ–º—É:</p>
<pre tabindex="0"><code>–¥–æ—Ä–æ–≥–∞
–¥–æ—Ä–æ–∞–≥
</code></pre><p>–§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ—Å—á–∏—Ç–∞–µ—Ç —Ç–∞–∫–∏–µ —Å–ª–æ–≤–∞ —Ä–∞–∑–Ω—ã–º–∏ (–∏¬†–±—É–¥–µ—Ç –ø—Ä–∞–≤):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#000">caverphone</span>(<span style="color:#c41a16">&#34;doroga&#34;</span>) <span style="color:#000">=</span> <span style="color:#c41a16">&#34;TRKA111111&#34;</span>
<span style="color:#000">caverphone</span>(<span style="color:#c41a16">&#34;doroag&#34;</span>) <span style="color:#000">=</span> <span style="color:#c41a16">&#34;TRK1111111&#34;</span>
</code></pre></div><p>–í¬†—Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –Ω–∞¬†–Ω–µ—Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—á–∞—Ç–∫–∞—Ö –Ω–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–ª–æ—Ö–æ. –î–ª—è <code>–¥–æ—Ä–æ–∞–≥</code> –≤–µ—Ä–Ω–µ—Ç:</p>
<pre tabindex="0"><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  word  ‚îÇ distance ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –¥–æ—Ä–æ–≥  ‚îÇ 1        ‚îÇ
‚îÇ –¥–æ—Ä–æ–≥–µ ‚îÇ 2        ‚îÇ
‚îÇ –¥—Ä–∞–≥   ‚îÇ 2        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre><p>–ß–∞—Å—Ç—å –Ω–µ—Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—á–∞—Ç–æ–∫ –º–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–±–∏—Ä–∞—Ç—å –Ω–µ¬†–ø–æ¬†—Å—Ç—Ä–æ–≥–æ–º—É —Ä–∞–≤–µ–Ω—Å—Ç–≤—É —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–¥–æ–≤, –∞¬†–ø–æ¬†–ø—Ä–µ—Ñ–∏–∫—Å—É (–ø–µ—Ä–≤—ã–µ 3 —Å–∏–º–≤–æ–ª–∞ –≤¬†–¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#177500">-- –¥–∏–∞–ø–∞–∑–æ–Ω –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–¥–æ–≤
</span><span style="color:#177500"></span><span style="color:#a90d91">with</span> <span style="color:#000">bounds</span> <span style="color:#a90d91">as</span> (
  <span style="color:#a90d91">select</span>
    <span style="color:#000">substr</span>(<span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#39;–¥–æ—Ä–æ–∞–≥&#39;</span>)), <span style="color:#1c01ce">1</span>, <span style="color:#1c01ce">3</span>) <span style="color:#000">||</span> <span style="color:#c41a16">&#39;1&#39;</span> <span style="color:#a90d91">as</span> <span style="color:#a90d91">left</span>,
    <span style="color:#000">substr</span>(<span style="color:#000">caverphone</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#39;–¥–æ—Ä–æ–∞–≥&#39;</span>)), <span style="color:#1c01ce">1</span>, <span style="color:#1c01ce">3</span>) <span style="color:#000">||</span> <span style="color:#c41a16">&#39;Z&#39;</span> <span style="color:#a90d91">as</span> <span style="color:#a90d91">right</span>
),

<span style="color:#177500">-- –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –ø–æ —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–º—É –∫–æ–¥—É
</span><span style="color:#177500">-- –∏–∑ —á–∏—Å–ª–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö
</span><span style="color:#177500"></span><span style="color:#000">candidates</span> <span style="color:#a90d91">as</span> (
  <span style="color:#a90d91">select</span> <span style="color:#000">word</span>
  <span style="color:#a90d91">from</span> <span style="color:#000">words</span>, <span style="color:#000">bounds</span>
  <span style="color:#a90d91">where</span> <span style="color:#000">hash</span> <span style="color:#a90d91">between</span> <span style="color:#000">bounds</span>.<span style="color:#a90d91">left</span> <span style="color:#a90d91">and</span> <span style="color:#000">bounds</span>.<span style="color:#a90d91">right</span>
)

<span style="color:#177500">-- –≤—ã–±–∏—Ä–∞–µ–º –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º
</span><span style="color:#177500"></span><span style="color:#a90d91">select</span>
  <span style="color:#000">word</span>,
  <span style="color:#000">dlevenshtein</span>(<span style="color:#000">translit</span>(<span style="color:#c41a16">&#39;–¥–æ—Ä–æ–∞–≥&#39;</span>), <span style="color:#000">translit</span>(<span style="color:#000">word</span>)) <span style="color:#a90d91">as</span> <span style="color:#000">distance</span>
<span style="color:#a90d91">from</span> <span style="color:#000">candidates</span>
<span style="color:#a90d91">order</span> <span style="color:#a90d91">by</span> <span style="color:#000">distance</span>, <span style="color:#a90d91">abs</span>(<span style="color:#a90d91">length</span>(<span style="color:#000">word</span>) <span style="color:#000">-</span> <span style="color:#a90d91">length</span>(<span style="color:#c41a16">&#39;–¥–æ—Ä–æ–∞–≥&#39;</span>)), <span style="color:#a90d91">length</span>(<span style="color:#000">word</span>)
<span style="color:#a90d91">limit</span> <span style="color:#1c01ce">3</span>;
</code></pre></div><pre tabindex="0"><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  word  ‚îÇ distance ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –¥–æ—Ä–æ–≥–∞ ‚îÇ 1        ‚îÇ
‚îÇ –¥–æ—Ä–æ–≥  ‚îÇ 1        ‚îÇ
‚îÇ –¥–æ—Ä–æ–≥–µ ‚îÇ 2        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
Run Time: real 0.032 user 0.030312 sys 0.000339
</code></pre><p>–¢–∞–∫–æ–π –∑–∞–ø—Ä–æ—Å –Ω–∞—Ö–æ–¥–∏—Ç –Ω–∞¬†–ø–æ—Ä—è–¥–∫–∏ –±–æ–ª—å—à–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ (6633 –≤–º–µ—Å—Ç–æ 81 –¥–ª—è ¬´–¥–æ—Ä–æ–≥–∏¬ª). –ò–∑-–∑–∞ —ç—Ç–æ–≥–æ –æ–Ω¬†–Ω–∞–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ö–æ—Ç—è 32 –º—Å¬†‚Äî –≤—Å–µ –µ—â–µ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ —Å¬†—Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —á–µ–ª–æ–≤–µ–∫–∞).</p>
<p>–ü—Ä–µ—Ñ–∏–∫—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –Ω–µ¬†—Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –µ—Å–ª–∏ –æ–ø–µ—á–∞—Ç–∫–∞ –≤¬†—Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ —Å–ª–æ–≤–∞. –ó–∞–ø—Ä–æ—Å –ø–æ¬†<code>–æ–¥—Ä–æ–≥–∞</code> –Ω–µ¬†–Ω–∞–π–¥–µ—Ç —Å–ª–æ–≤–æ <code>–¥–æ—Ä–æ–≥–∞</code>:</p>
<pre tabindex="0"><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  word  ‚îÇ distance ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –æ—Ç—Ä–æ–≥–∞ ‚îÇ 1        ‚îÇ
‚îÇ –æ—Ç—Ä–æ–≥–µ ‚îÇ 2        ‚îÇ
‚îÇ –æ—Ç—Ä–æ–≥–∏ ‚îÇ 2        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre><p>–•–æ—Ç—å –º–æ–π –∞–π—Ñ–æ–Ω —Ç–∞–∫—É—é –æ–ø–µ—á–∞—Ç–∫—É —Ç–æ–∂–µ –Ω–µ¬†–∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç, —Ç–∞–∫ —á—Ç–æ –º–æ–∂–µ—Ç –∏¬†–Ω–∏—á–µ–≥–æ.</p>
<h2 id="spellfix">8. –ì–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è SQLite</h2>
<p>–¢–µ–ø–µ—Ä—å –≤—ã¬†–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –±—ã—Å—Ç—Ä–æ –∏—Å–∫–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ —Å–ª–æ–≤–∞ –≤¬†—Å—Ç–∏–ª–µ ¬´—Å–¥–µ–ª–∞–π —Å–∞–º¬ª. –û–ø–∏—Å–∞–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤¬†–ª—é–±–æ–π –°–£–ë–î, –≥–¥–µ –µ—Å—Ç—å —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏¬†—Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π. –ù–æ¬†–¥–∞–∂–µ –µ—Å–ª–∏ –≤¬†–≤–∞—à–µ–π –±–∞–∑–µ –∏—Ö¬†–Ω–µ—Ç¬†‚Äî¬†—Ç–æ¬†–∂–µ —Å–∞–º–æ–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞¬†Python, JS –∏–ª–∏ C#, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —É–∂¬†—Ç–æ—á–Ω–æ –Ω–∞–π–¥—É—Ç—Å—è –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.</p>
<p>–ï—Å–ª–∏¬†–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤¬†SQLite¬†‚Äî –º–æ–∂–Ω–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è –∏¬†–≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≥–æ—Ç–æ–≤—ã–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º <a href="https://github.com/nalgeon/sqlean/issues/27#issuecomment-1002297477">spellfix</a>. –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º —É¬†–Ω–µ–≥–æ —Ñ–æ–Ω–µ—Ç–∏–∫–∞ + —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è, –∫–∞–∫ –º—ã¬†–æ–±—Å—É–∂–¥–∞–ª–∏, –Ω–æ¬†–≤–Ω–µ—à–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∏–ª—å–Ω–æ –ø—Ä–æ—â–µ:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">.<span style="color:#a90d91">load</span> .<span style="color:#000">/</span><span style="color:#000">spellfix</span>

<span style="color:#a90d91">create</span> <span style="color:#000">virtual</span> <span style="color:#a90d91">table</span> <span style="color:#a90d91">dictionary</span> <span style="color:#a90d91">using</span> <span style="color:#000">spellfix1</span>;

<span style="color:#a90d91">insert</span> <span style="color:#a90d91">into</span> <span style="color:#a90d91">dictionary</span>(<span style="color:#000">word</span>)
<span style="color:#a90d91">select</span> <span style="color:#000">word</span> <span style="color:#a90d91">from</span> <span style="color:#000">words</span>;

<span style="color:#a90d91">select</span> <span style="color:#000">word</span> <span style="color:#a90d91">from</span> <span style="color:#a90d91">dictionary</span>
<span style="color:#a90d91">where</span> <span style="color:#000">word</span> <span style="color:#a90d91">match</span> <span style="color:#c41a16">&#39;–∞–±—Ä–∏–≤–∏–∞—Ç—É—Ä–∞&#39;</span>
<span style="color:#a90d91">limit</span> <span style="color:#1c01ce">1</span>;
</code></pre></div><pre tabindex="0"><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     word     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
Run Time: real 0.182 user 0.112689 sys 0.014142
</code></pre><p>–†–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏¬†–º–µ—Å—Ç–∞–º–∏ —Ö—É–∂–µ, —á–µ–º –Ω–∞—à–µ DIY-—Ä–µ—à–µ–Ω–∏–µ, –∑–∞—Ç–æ –≥–∏–±—á–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è. –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–∏–Ω–æ–Ω–∏–º—ã —Å–ª–æ–≤ –∏¬†—Ç—é–Ω–∏—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ¬†‚Äî —Å–º.¬†—Ä–∞–∑–¥–µ–ª—ã ¬´Dealing With Unusual And Difficult Spellings¬ª –∏¬†¬´Configurable Edit Distance¬ª <a href="https://sqlite.org/spellfix1.html">–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</a>.</p>
<h2 id="9-–∏—Ç–æ–≥–∏">9. –ò—Ç–æ–≥–∏</h2>
<p>–¢–µ–ø–µ—Ä—å –≤—ã¬†—É–º–µ–µ—Ç–µ:</p>
<ul>
<li>–°—á–∏—Ç–∞—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Å–ª–æ–≤–∞–º–∏, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è.</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, —á—Ç–æ–±—ã –∏—Å–∫–∞—Ç—å —Å–æ–∑–≤—É—á–Ω—ã–µ —Å–ª–æ–≤–∞.</li>
<li>–°–æ—á–µ—Ç–∞—Ç—å —Ñ–æ–Ω–µ—Ç–∏–∫—É –∏¬†—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ, —á—Ç–æ–±—ã –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ—Ö–æ–∂–∏–µ —Å–ª–æ–≤–∞ –≤¬†–º–∏–ª–ª–∏–æ–Ω–Ω–æ–º —Å–ª–æ–≤–∞—Ä–µ.</li>
</ul>
<p>–ö–æ–Ω–µ—á–Ω–æ, –µ—Å—Ç—å –∏¬†–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫¬†–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –æ–ø–µ—á–∞—Ç–æ–∫. –ù–∞–ø—Ä–∏–º–µ—Ä:</p>
<ul>
<li>–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –∏–∑¬†—Å–ª–æ–≤–∞—Ä—è –∑–∞—Ä–∞–Ω–µ–µ —Å–≥–µ–Ω–µ—Ä–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ–ø–µ—á–∞—Ç–æ–∫ –∏¬†—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö¬†–≤¬†–æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ. –°–ª–æ–≤–∞—Ä—å —É–≤–µ–ª–∏—á–∏—Ç—Å—è –≤¬†–¥–µ—Å—è—Ç–∫–∏, –µ—Å–ª–∏ –Ω–µ¬†—Å–æ—Ç–Ω–∏ —Ä–∞–∑¬†‚Äî¬†–∑–∞—Ç–æ –Ω–µ¬†–Ω—É–∂–Ω—ã —Ñ–æ–Ω–µ—Ç–∏–∫–∞ –∏¬†—Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è.</li>
<li>–û–±—É—á–∏—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ –ø–æ¬†—Ç–æ–º—É, —á—Ç–æ –≤–≤–µ–ª —á–µ–ª–æ–≤–µ–∫. –ó–∞–æ–¥–Ω–æ –ø–æ–ª—É—á–∏—Ç—Å—è –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –µ—â–µ –¥–æ¬†—Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ø–∏—Å–∞–ª —Å–ª–æ–≤–æ¬†‚Äî —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–≤–æ–¥ –≤¬†–∞–π–æ—Å–∏ –∏¬†–∞–Ω–¥—Ä–æ–∏–¥–µ.</li>
</ul>
<p>–ù–æ¬†—ç—Ç–æ —É–∂–µ —Å–æ–≤—Å–µ–º –¥—Ä—É–≥–∞—è –∏—Å—Ç–æ—Ä–∏—è „ÉÑ –ê¬†—Ñ–æ–Ω–µ—Ç–∏–∫–∞ –∏¬†—Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–æ–≥—É—Ç –≤–∞–º –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è.</p>
<div class="row">
<div class="col-xs-12 col-sm-10 col-md-8"><p><em>–ò¬†–ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞¬†–∫–∞–Ω–∞–ª <span class="nowrap"><i class="fas fa-database"></i> ¬´<a href="https://t.me/sqliter">SQLite –Ω–∞¬†–ø—Ä–∞–∫—Ç–∏–∫–µ</a>¬ª</span></em></p></div>
</div>
]]></content:encoded></item><item><title>–î–∞—Ç–∞—Å–µ—Ç —Å–ª–æ–≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</title><link>https://antonz.ru/words-dataset/</link><pubDate>Wed, 01 Dec 2021 14:50:00 +0000</pubDate><guid>https://antonz.ru/words-dataset/</guid><description>Oxford 5000 –∏ –¥—Ä—É–≥–∏–µ –Ω–∞–±–æ—Ä—ã —Å –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ–º.</description><content:encoded><![CDATA[<p>–û–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ —É¬†–û–∫—Å—Ñ–æ—Ä–¥—Å–∫–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –µ—Å—Ç—å —Å–ø–∏—Å–∫–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤ –∏¬†–≤—ã—Ä–∞–∂–µ–Ω–∏–π –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞. –î–æ—Å—Ç—É–ø–Ω—ã –≤¬†—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ ¬´—É–¥–æ–±–Ω–æ–º¬ª —Ñ–æ—Ä–º–∞—Ç–µ¬†‚Äî html-–∞–º–±—Ä–∞–∑—É—Ä–µ –Ω–∞¬†—Å–∞–π—Ç–µ –ª–∏–±–æ PDF.</p>
<p>–ò–∑–≤–ª–µ–∫ –∏—Ö¬†–∏¬†—Å–¥–µ–ª–∞–ª –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤¬†CSV. –ù–∞–ø—Ä–∏–º–µ—Ä:</p>
<table>
<thead>
<tr>
<th>word</th>
<th>level</th>
<th>pos</th>
<th>definition_url</th>
<th>voice_url</th>
</tr>
</thead>
<tbody>
<tr>
<td>abandon</td>
<td>b2</td>
<td>verb</td>
<td><a href="https://www.oxfordlearnersdictionaries.com/definition/english/abandon_1">üìÑ</a></td>
<td><a href="https://www.oxfordlearnersdictionaries.com/media/english/us_pron_ogg/a/aba/aband/abandon__us_2.ogg">üó£Ô∏è</a></td>
</tr>
<tr>
<td>ability</td>
<td>a2</td>
<td>noun</td>
<td><a href="https://www.oxfordlearnersdictionaries.com/definition/english/ability_1">üìÑ</a></td>
<td><a href="https://www.oxfordlearnersdictionaries.com/media/english/us_pron_ogg/a/abi/abili/ability__us_4.ogg">üó£Ô∏è</a></td>
</tr>
<tr>
<td>able</td>
<td>a2</td>
<td>adjective</td>
<td><a href="https://www.oxfordlearnersdictionaries.com/definition/english/able_1">üìÑ</a></td>
<td><a href="https://www.oxfordlearnersdictionaries.com/media/english/us_pron_ogg/a/abl/able_/able__us_2.ogg">üó£Ô∏è</a></td>
</tr>
<tr>
<td>abolish</td>
<td>c1</td>
<td>verb</td>
<td><a href="https://www.oxfordlearnersdictionaries.com/definition/english/abolish">üìÑ</a></td>
<td><a href="https://www.oxfordlearnersdictionaries.com/media/english/us_pron_ogg/a/abo/aboli/abolish__us_1.ogg">üó£Ô∏è</a></td>
</tr>
<tr>
<td>–∏ –µ—â–µ 5000 —Å–ª–æ–≤&hellip;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>–ê—Ç—Ä–∏–±—É—Ç–∏–∫–∞:</p>
<ul>
<li><code>word</code> ‚Äî —Å–ª–æ–≤–æ</li>
<li><code>pos</code> ‚Äî —á–∞—Å—Ç—å —Ä–µ—á–∏</li>
<li><code>level</code> ‚Äî —É—Ä–æ–≤–µ–Ω—å (A1, A2, B1, B2, C1)</li>
<li><code>definition_url</code> ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞¬†–ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</li>
<li><code>voice_url</code> ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞¬†–æ–∑–≤—É—á–∫—É –≤¬†ogg</li>
</ul>
<!-- <p class="big">
<a href="https://github.com/nalgeon/words">github.com/nalgeon/words</a>
</p> -->
<p>–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏ —Å–∫–∞—á–∞—Ç—å:<br>
<a href="https://github.com/nalgeon/words"><strong>github.com/nalgeon/words</strong></a></p>
<div class="row">
<div class="col-xs-12 col-sm-10 col-md-8"><p><em>–ó–∞–º–µ—Ç–∫–∞ –∏–∑ —Ç–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª–∞ <span class="nowrap"><i class="fas fa-database"></i> ¬´<a href="https://t.me/sqliter">SQLite –Ω–∞¬†–ø—Ä–∞–∫—Ç–∏–∫–µ</a>¬ª</span></em></p></div>
</div>
]]></content:encoded></item><item><title>–ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ SQLite 3.37</title><link>https://antonz.ru/sqlite-3-37/</link><pubDate>Sun, 28 Nov 2021 15:25:00 +0000</pubDate><guid>https://antonz.ru/sqlite-3-37/</guid><description>–°—Ç—Ä–æ–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã, any-—Ç–∏–ø –∏ –Ω–æ–≤–∞—è –ø—Ä–∞–≥–º–∞.</description><content:encoded><![CDATA[<p>–í¬†–æ—Ç–ª–∏—á–∏–µ –æ—Ç¬†<a href="/sqlite-3-35">3.35</a>, —Ä–µ–ª–∏–∑ 3.37 –ø—Ä–∏–Ω–µ—Å –Ω–µ¬†—Ç–∞–∫ –º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π. –ù–æ¬†—Å—Ä–µ–¥–∏ –Ω–∏—Ö¬†‚Äî –æ–¥–Ω–æ –∏–∑¬†–≤–∞–∂–Ω–µ–π—à–∏—Ö –∑–∞¬†–≤—Å—é –∏—Å—Ç–æ—Ä–∏—é: ¬´—Å—Ç—Ä–æ–≥–∏–π¬ª —Ä–µ–∂–∏–º —Ç–∞–±–ª–∏—Ü, –≤¬†–∫–æ—Ç–æ—Ä–æ–º –¥–≤–∏–∂–æ–∫ —Å–ª–µ–¥–∏—Ç, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –≤¬†—Å—Ç–æ–ª–±—Ü–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ —Ç–∏–ø—É.</p>
<p>–í–æ–∑–º–æ–∂–Ω–æ, —Ç–µ–ø–µ—Ä—å SQLite –ø–µ—Ä–µ—Å—Ç–∞–Ω—É—Ç –Ω–∞–∑—ã–≤–∞—Ç—å ¬´–¥–∂–∞–≤–∞—Å–∫—Ä–∏–ø—Ç–æ–º –≤¬†–º–∏—Ä–µ –°–£–ë–î¬ª „ÉÑ –ù–æ¬†–¥–∞–≤–∞–π—Ç–µ –ø–æ¬†–ø–æ—Ä—è–¥–∫—É.</p>
<p><a href="https://habr.com/ru/news/t/592085/">–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –Ω–∞ –•–∞–±—Ä–µ</a></p>
]]></content:encoded></item></channel></rss>