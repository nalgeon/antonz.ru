<!doctype html><html lang=en>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta name=yandex-verification content="166c4872c92b3261">
<meta name=google-site-verification content="RDIpvK7QdMQQUb3kxVN3FAjfDdKdfHQSyGVfLb-GaPU">
<title>ะะบะพะฝะฝัะต ััะฝะบัะธะธ ะฒยะบะฐััะธะฝะบะฐั</title>
<meta name=description content="ะะพะฝััะฝะพะต ะฒะฒะตะดะตะฝะธะต ะฒยยซะพะบะพัะบะธยป ะดะปั ะฒัะตั, ะบัะพ ะฐะฝะฐะปะธะทะธััะตั ะดะฐะฝะฝัะต ะฒยSQL.">
<meta name=robots content="index, follow">
<link rel=stylesheet type=text/css href=/assets/css/style.67f43febd5c60d7010da0cc947743f2774bbbe4c6d9233df29cd694711a1eb61.css>
<link rel=icon href=/assets/favicon/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=/assets/favicon/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=/assets/favicon/favicon-32x32.png>
<link rel=apple-touch-icon href=/assets/favicon/apple-touch-icon.png>
<link rel=mask-icon href=/assets/favicon/safari-pinned-tab.svg>
<meta name=theme-color content="#fff">
<meta name=msapplication-TileColor content="#fff">
<link rel=canonical href=https://antonz.ru/window-functions/>
<meta name=author content="ะะฝัะพะฝ ะะธัะฝะพะฒ">
<meta property="og:site_name" content="ะะฝัะพะฝ ะะธัะฝะพะฒ">
<meta property="og:type" content="article">
<meta property="og:title" content="ะะบะพะฝะฝัะต ััะฝะบัะธะธ ะฒยะบะฐััะธะฝะบะฐั">
<meta property="og:description" content="ะะพะฝััะฝะพะต ะฒะฒะตะดะตะฝะธะต ะฒยยซะพะบะพัะบะธยป ะดะปั ะฒัะตั, ะบัะพ ะฐะฝะฐะปะธะทะธััะตั ะดะฐะฝะฝัะต ะฒยSQL.">
<meta property="og:url" content="https://antonz.ru/window-functions/">
<meta property="og:image" content="https://antonz.ru/window-functions/cover.png">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:title content="ะะบะพะฝะฝัะต ััะฝะบัะธะธ ะฒยะบะฐััะธะฝะบะฐั">
<meta name=twitter:description content="ะะพะฝััะฝะพะต ะฒะฒะตะดะตะฝะธะต ะฒยยซะพะบะพัะบะธยป ะดะปั ะฒัะตั, ะบัะพ ะฐะฝะฐะปะธะทะธััะตั ะดะฐะฝะฝัะต ะฒยSQL.">
<meta name=twitter:url content="https://antonz.ru/window-functions/">
<meta name=twitter:site content="@nalgeon">
<meta name=twitter:image content="https://antonz.ru/window-functions/cover.png"></head>
<body>
<div class=header>
<div class=container>
<div class=row>
<div class="col-xs-6 col-sm-3">
<a class=img-link href=/>
<img src=/assets/antonz.jpg class=header-icon>
</a>ย
<a href=/>
<strong>ะะฝัะพะฝ ะะธัะฝะพะฒ</strong>
</a>
</div>
<div class="col-xs-12 col-sm-6 col-md-4 hidden-mobile">
<a class=menu__link href=/projects/>
<span>ะฟัะพะตะบัั</span>
</a>
<a class=menu__link href=/all/>
<span>ะฑะปะพะณ</span>
</a>
<a class=menu__link href=/#about>
<span>ะบะพะฝัะฐะบัั</span>
</a>
<a class=menu__link href=https://antonz.org>
<span>en</span>
</a>
</div>
<div class="col-xs-6 col-sm-3"><div class=search-module>
<form action=https://antonz.ru/search/ method=get target=_self accept-charset=utf-8>
<input type=hidden name=searchid value=2403959>
<input type=hidden name=l10n value=ru>
<input type=hidden name=reqenc>
<input type=search name=text placeholder="ะฟะพะธัะบ ะฟะพ ัะฐะนัั">
</form>
</div></div>
</div>
</div>
</div>
<div class=storey>
<div class=container>
<article class=post>
<div class=row>
<div class="col-xs-12 col-sm-10 article">
<header>
<h1>ะะบะพะฝะฝัะต ััะฝะบัะธะธ ะฒยะบะฐััะธะฝะบะฐั</h1>
</header>
<p>ะะตั ะฑะพะปะตะต ะพะฑะผะฐะฝัะธะฒะพะณะพ ัะฐะทะดะตะปะฐ SQL, ัะตะผ ยซะพะบะพะฝะฝัะต ััะฝะบัะธะธยป. ะะพะณะดะฐ ัะปััะธัั ััะธ ัะปะพะฒะฐ, ะดัะผะฐะตัั ยซะฝะฐะฒะตัะฝะพ, ะฟัะพััะพ ะฟัะธะดัะผะฐะปะธ ะบะฐะบะธะต-ัะพ ะดะพะฟะพะปะฝะธัะตะปัะฝัะต ััะฝะบัะธะธยป.</p>
<p>ะัะปะธ ะฒะบัะฐััะตยโ ะพะบะพะฝะฝัะต ััะฝะบัะธะธ ะฟะพะผะพะณะฐัั ะดะตะปะฐัั ะบะปะฐััะฝัะต ะฐะฝะฐะปะธัะธัะตัะบะธะต ะพััะตัั ะฑะตะท ััะฐััะธั ยซัะบัะตะปัยป. ะฅะพัะธัะต ะฟะพััะธัะฐัั ะฟัะพัะตะฝั ะฟัะพะดะฐะถ ะฟะพยะผะตัััะฐะผ ะพัยะพะฑัะธั ะฟัะพะดะฐะถ ะทะฐยะณะพะด? ะะบะพะฝะฝัะต ััะฝะบัะธะธ. ะะฐะทะดะตะปะธัั ะผะฐัะบะตัะธะฝะณะพะฒัะต ะบะฐะฝะฐะปั ะฝะฐยัััะตะบัะธะฒะฝัะต ะธยะฝะตัััะตะบัะธะฒะฝัะต? ะะบะพะฝะฝัะต ััะฝะบัะธะธ. ะัะฑัะฐัั ัะพะฟ-10 ะบะปะธะตะฝัะพะฒ ะฟะพยะบะฐะถะดะพะผั ัะตะณะผะตะฝัั? ะขะพะถะต ะพะฝะธ.</p>
<p>ะฏยะฟัะพัะธัะฐะป ะฝะตัะบะพะปัะบะพ ะดะตัััะบะพะฒ ััะฐัะตะน ยซะดะปั ะฝะฐัะธะฝะฐััะธัยป, ะบะพัะพััะต ะพะฑัััะฝัะปะธ, ััะพ ัะฐะบะพะต ะพะบะพะฝะฝัะต ััะฝะบัะธะธ. ะัะต ะพะฝะธ ัััะฐะดะฐะปะธ ะพัยะพะดะฝะพะน ะธะทยะดะฒัั ะฟัะพะฑะปะตะผ:</p>
<ol>
<li>ะัะต ะฟะพะฝััะฝะพ, ะฝะพยะพะฟะธัะฐะฝ 1% ะฒะพะทะผะพะถะฝะพััะตะน ยซะพะบะพัะตะบยป.</li>
<li>ะะฐะฟะธัะฐะฝะพ ัะฐะบ ัะปะพะถะฝะพ, ััะพ ะตัะปะธยะฑั ัยัะถะต ะฝะตยะทะฝะฐะป ะฟัะตะดะผะตั ะพะฑััะถะดะตะฝะธัยโ ะฝะธัะตะณะพยะฑั ะฝะตยะฟะพะฝัะป.</li>
</ol>
<div class=row>
<div class="col-xs-12 col-sm-6">
<figure>
<img alt=ะกะปะพะถะฝะฐ src=window-wtf.png>
<figcaption>ะัะปะธ ะฝะตยัะฐะทะพะฑัะฐัััั ะฒยะทะฐะฟัะพัะฐั ัยยซะพะบะพัะบะฐะผะธยป,
ะฒัะณะปัะดัั ะพะฝะธ ะบะฐะบ-ัะพ ัะฐะบ</figcaption>
</figure>
</div>
</div>
<p>ะฅะพัั ะธัะฟัะฐะฒะธัั ัะธััะฐัะธั ะธยะฝะฐะฟะธัะฐัั ะฟะพะฝััะฝะพะต ะธยะฝะฐะณะปัะดะฝะพะต ะฒะฒะตะดะตะฝะธะต ะฒยะพะบะพะฝะฝัะต ััะฝะบัะธะธ. ะะพะฝััะฝะพะต, ะฟะพัะพะผั ััะพ ัยัะผะตั ะดะพัะพะดัะธะฒะพ ะฟะธัะฐัั ะพยัะปะพะถะฝัั ัะตะผะฐั. ะะฐะณะปัะดะฝะพะตยโ ะฟะพัะพะผั ััะพ ะฟะพะดะณะพัะพะฒะธะป ะฝะตัะบะพะปัะบะพ ะดะตัััะบะพะฒ ะบะฐััะธะฝะพะบ ะธยะณะธัะพะบ, ะบะพัะพััะต ะฟะพะผะพะณัั ะฟะพะฝััั ะฑะฐะทะพะฒัะต ะฟัะธะฝัะธะฟั ยซะพะบะพัะตะบยป.</p>
<p>ะะปะฐะฝ ัะฐะบะพะน:</p>
<ol>
<li>ะะฐัะตะผ ะฝัะถะฝั ะพะบะพะฝะฝัะต ััะฝะบัะธะธ (ััะฐ ััะฐััั).</li>
<li><a href=/window-ranking/>ะะฐะฝะถะธัะพะฒะฐะฝะธะต</a></li>
<li><a href=/window-offset/>ะกะผะตัะตะฝะธะต</a></span></li>
<li><a href=/window-aggregate/>ะะณัะตะณะฐัะธั</a></span></li>
<li><a href=/window-rolling/>ะกะบะพะปัะทััะธะต ะฐะณัะตะณะฐัั</a></span></li>
</ol>
<p>ะฏยัะตะบะพะผะตะฝะดัั ะฝะตยะฟัะพััะพ ัะธัะฐัั ััะฐััะธ, ะฐยััะฐะทั <a href=https://stepik.org/z/95367><strong>ะฟัะพัะพะดะธัั ะบััั</strong></a>. ะยะฝะตะผ ะผะฝะพะณะพ ะฟัะฐะบัะธัะตัะบะธั ะทะฐะดะฐัะตะบ, ะฐยัะพะปัะบะพ ัยะฝะธะผะธ ะฐะฑัััะฐะบัะฝัะต ะทะฝะฐะฝะธั ะฟัะตะฒัะฐััััั ะฒยะฝะฐะฒัะบะธ.</p>
<p class=align-center>โ&nbsp;โ&nbsp;โ</p>
<p>ะัะฐะบ, ะทะฐัะตะผ ะฝัะถะฝั ะพะบะพะฝะฝัะต ััะฝะบัะธะธ? ะัะพัะต ะฒัะตะณะพ ะพะฑัััะฝััั ะฝะฐยะบะพะฝะบัะตัะฝัั ะฟัะธะผะตัะฐั. ะัะดะตะผ ัะฐะฑะพัะฐัั ัยะธะณัััะตัะฝะพะน ัะฐะฑะปะธัะตะน ัะพัััะดะฝะธะบะพะฒ, ะฒะพั ัะฐะบะพะน:</p>
<div class=row>
<div class="col-xs-12 col-sm-6">
<figure><img alt="ะขะฐะฑะปะธัะฐ ัะพัััะดะฝะธะบะพะฒ" src=window-employees.png></figure>
</div>
</div>
<p>ะะฐััะผะพััะธะผ ะฝะตะบะพัะพััะต ะทะฐะดะฐัะธ, ะบะพัะพััะต ัะดะพะฑะฝะพ ัะตัะฐัั ัยะฟะพะผะพััั ยซะพะบะพัะตะบยป ะฒยSQL. ะะฐะบ ะธะผะตะฝะฝะพ ะธัยัะตัะฐััยโ ัะฐะทะฑะตัะตะผัั ะฒยัะปะตะดัััะตะน ัะฐััะธ. ะะพะบะฐ ะฟัะพััะพ ะพัะตะฝะธะผ ะฒะพะทะผะพะถะฝะพััะธ.</p>
<h2 id=1-ัะฐะฝะถะธัะพะฒะฐะฝะธะต>1. ะะฐะฝะถะธัะพะฒะฐะฝะธะต</h2>
<p>ะะฐะฝะถะธัะพะฒะฐะฝะธะต โ ััะพ ะฒัะตะฒะพะทะผะพะถะฝัะต ัะตะนัะธะฝะณะธ, ะฝะฐัะธะฝะฐั ะพัยะฟัะธะทะตัะพะฒ ัะตะผะฟะธะพะฝะฐัะฐ ะผะธัะฐ ะฟะพยะฟะปะฐะฒะฐะฝะธั ะธยะทะฐะบะฐะฝัะธะฒะฐั Forbes 500.</p>
<p>ะะฐยะฟัะธะผะตัะต ะฝะฐัะตะน ัะฐะฑะปะธัะบะธ ัะพัััะดะฝะธะบะพะฒ:</p>
<p><strong>ะะฑัะธะน ัะตะนัะธะฝะณ ะทะฐัะฟะปะฐั</strong></p>
<p>ะกะพััะฐะฒะธะผ ัะตะนัะธะฝะณ ัะพัััะดะฝะธะบะพะฒ ะฟะพยัะฐะทะผะตัั ะทะฐัะฐะฑะพัะฝะพะน ะฟะปะฐัั:</p>
<div class=row>
<div class="col-xs-12 col-sm-6">
<figure><img alt="ะะฑัะธะน ัะตะนัะธะฝะณ ะทะฐัะฟะปะฐั" src=window-rank.png></figure>
</div>
</div>
<p>ะะธะดะฝะพ, ััะพ ัยะฝะตะบะพัะพััั ะบะพะปะปะตะณ ะพะดะธะฝะฐะบะพะฒะฐั ะทะฐัะฟะปะฐัะฐ (ะะตะพะฝะธะด ะธยะะฐัะธะฝะฐ, ะะตัะพะฝะธะบะฐ ะธยะัะธะณะพัะธะน) โ ะฟะพััะพะผั ะพะฝะธ ะฟะพะปััะธะปะธ ะพะดะธะฝ ะธยัะพัยะถะต ัะฐะฝะณ.</p>
<p><strong>ะะตะนัะธะฝะณ ะทะฐัะฟะปะฐั ะฟะพยะดะตะฟะฐััะฐะผะตะฝัะฐะผ</strong></p>
<p>ะขะพัยะถะต ัะตะนัะธะฝะณ, ัะพะปัะบะพ ะฝะตยะดะปั ะฒัะตะน ะบะพะผะฟะฐะฝะธะธ, ะฐยะฟะพยะบะฐะถะดะพะผั ะดะตะฟะฐััะฐะผะตะฝัั ะฒยะพัะดะตะปัะฝะพััะธ:</p>
<div class=row>
<div class="col-xs-12 col-sm-6">
<figure><img alt="ะะตะนัะธะฝะณ ะทะฐัะฟะปะฐั ะฟะพ ะดะตะฟะฐััะฐะผะตะฝัะฐะผ" src=window-rank-department.png></figure>
</div>
</div>
<p><strong>ะััะฟะฟั ะฟะพยะทะฐัะฟะปะฐัะต</strong></p>
<p>ะะฐะทะพะฑัะตะผ ัะพัััะดะฝะธะบะพะฒ ะฝะฐยััะธ ะณััะฟะฟั ะฒยะทะฐะฒะธัะธะผะพััะธ ะพัยัะฐะทะผะตัะฐ ะทะฐัะฟะปะฐัั:</p>
<ul>
<li>ะฒััะพะบะพะพะฟะปะฐัะธะฒะฐะตะผัะต,</li>
<li>ััะตะดะฝะธะต,</li>
<li>ะฝะธะทะบะพะพะฟะปะฐัะธะฒะฐะตะผัะต.</li>
</ul>
<div class=row>
<div class="col-xs-12 col-sm-6">
<figure><img alt="ะััะฟะฟั ะฟะพ ะทะฐัะฟะปะฐัะต" src=window-rank-bucket.png></figure>
</div>
</div>
<p><strong>ะกะฐะผัะต ยซะดะพัะพะณะธะตยป ะบะพะปะปะตะณะธ</strong></p>
<p>ะะฐะนะดะตะผ ัะฐะผัั ะฒััะพะบะพะพะฟะปะฐัะธะฒะฐะตะผัั ะปัะดะตะน ะฟะพยะบะฐะถะดะพะผั ะดะตะฟะฐััะฐะผะตะฝัั:</p>
<div class=row>
<div class="col-xs-12 col-sm-6">
<figure><img alt="ะกะฐะผัะต ยซะดะพัะพะณะธะตยป ะบะพะปะปะตะณะธ" src=window-rank-top.png></figure>
</div>
</div>
<p>ะงัะพยะถ, ััะธะผ ะทะฐัะฟะปะฐัั ะฑะพะปััะต ะฝะตยะฟะพะฒััะฐัั! (ะธะปะธ ะฝะฐะพะฑะพัะพั, ะฟะพะฒััะธัั? ๐ค)</p>
<h2 id=2-ััะฐะฒะฝะตะฝะธะต-ัะพัะผะตัะตะฝะธะตะผ>2. ะกัะฐะฒะฝะตะฝะธะต ัะพยัะผะตัะตะฝะธะตะผ</h2>
<p>ะกัะฐะฒะฝะตะฝะธะต ัะพยัะผะตัะตะฝะธะตะผ โ ััะพ ะบะพะณะดะฐ ะผัยัะผะพััะธะผ, ะฒยัะตะผ ัะฐะทะฝะธัะฐ ะผะตะถะดั ัะพัะตะดะฝะธะผะธ ะทะฝะฐัะตะฝะธัะผะธ. ะะฐะฟัะธะผะตั, ััะฐะฒะฝะธะฒะฐะตะผ ัััะฐะฝั, ะบะพัะพััะต ะทะฐะฝะธะผะฐัั 5ยะธย6ยะผะตััะพ ะฒยะผะธัะพะฒะพะผ ัะตะนัะธะฝะณะต ะะะ โ ัะธะปัะฝะพยะปะธ ะพัะปะธัะฐัััั? ะยะตัะปะธ ััะฐะฒะฝะธัั 1ยะธย6ยะผะตััะพ?</p>
<p>ะกัะดะฐยะถะต ะฟะพะฟะฐะดะฐัั ะทะฐะดะฐัะธ, ะฒยะบะพัะพััั ะผัยััะฐะฒะฝะธะฒะฐะตะผ ะทะฝะฐัะตะฝะธะต ะธะทยะฝะฐะฑะพัะฐ ัยะณัะฐะฝะธัะฐะผะธ ะฝะฐะฑะพัะฐ. ะะฐะฟัะธะผะตั, ะตััั 100ยะปัััะธั ัะตะฝะฝะธัะธััะพะบ ะผะธัะฐ. ะะฐัะธั ะกะฐะบะบะฐัะธ ะทะฐะฝะธะผะฐะตั ะฒยัะตะนัะธะฝะณะต 20ยะผะตััะพ. ะะฐะบ ะตะตยะฟะพะบะฐะทะฐัะตะปะธ ัะพะพัะฝะพััััั ัยะญัะปะธ ะะฐััะปะธ, ะบะพัะพัะฐั ะทะฐะฝะธะผะฐะตั 1ยะผะตััะพ? ะยัยะะธะฝ ะงะถะพั, ะบะพัะพัะฐั ะทะฐะฝะธะผะฐะตั 100ยะผะตััะพ?</p>
<p>ะะฐยะฟัะธะผะตัะต ะฝะฐัะตะน ัะฐะฑะปะธัะบะธ ัะพัััะดะฝะธะบะพะฒ:</p>
<p><strong>ะะฐะทะฝะธัะฐ ะฟะพยะทะฐัะฟะปะฐัะต ัยะฟัะตะดัะดััะธะผ</strong></p>
<p>ะฃะฟะพััะดะพัะธะผ ัะพัััะดะฝะธะบะพะฒ ะฟะพยะฒะพะทัะฐััะฐะฝะธั ะทะฐัะฟะปะฐัั ะธยะฟัะพะฒะตัะธะผ, ะฒะตะปะธะบยะปะธ ัะฐะทััะฒ ะผะตะถะดั ัะพัะตะดัะผะธ:</p>
<div class=row>
<div class="col-xs-12 col-sm-6">
<figure><img alt="ะะฐะทะฝะธัะฐ ะฟะพ ะทะฐัะฟะปะฐัะต ั ะฟัะตะดัะดััะธะผ" src=window-offset-lag.png></figure>
</div>
</div>
<p>ะกัะพะปะฑะตั <code>diff</code> ะฟะพะบะฐะทัะฒะฐะตั, ะฝะฐยัะบะพะปัะบะพ ะฟัะพัะตะฝัะพะฒ ะทะฐัะฟะปะฐัะฐ ัะพัััะดะฝะธะบะฐ ะพัะปะธัะฐะตััั ะพัยะฟัะตะดัะดััะตะณะพ ะบะพะปะปะตะณะธ. ะะธะดะฝะพ, ััะพ ะฑะพะปััะธั ัะฐะทััะฒะพะฒยะฝะตั. ะกะฐะผัะต ะบััะฟะฝัะตยโ ะผะตะถะดั ะะฐััะตะน ะธยะะพัะธัะพะผ (10%) ะธยะะฐัะธะฝะพะน ะธยะะฒะฐะฝะพะผ (13%).</p>
<p><strong>ะะธะฐะฟะฐะทะพะฝ ะทะฐัะฟะปะฐั ะฒยะดะตะฟะฐััะฐะผะตะฝัะต</strong></p>
<p>ะะพัะผะพััะธะผ, ะบะฐะบ ะทะฐัะฟะปะฐัะฐ ัะพัััะดะฝะธะบะฐ ัะพะพัะฝะพัะธััั ัยะผะธะฝะธะผะฐะปัะฝะพะน ะธยะผะฐะบัะธะผะฐะปัะฝะพะน ะทะฐัะฟะปะฐัะพะน ะฒยะตะณะพ ะดะตะฟะฐััะฐะผะตะฝัะต:</p>
<div class=row>
<div class="col-xs-12 col-sm-8">
<figure><img alt="ะะธะฐะฟะฐะทะพะฝ ะทะฐัะฟะปะฐั ะฒ ะดะตะฟะฐััะฐะผะตะฝัะต" src=window-offset-first-last.png></figure>
</div>
</div>
<p>ะะปั ะบะฐะถะดะพะณะพ ัะพัััะดะฝะธะบะฐ ััะพะปะฑะตั <code>low</code> ะฟะพะบะฐะทัะฒะฐะตั ะผะธะฝะธะผะฐะปัะฝัั ะทะฐัะฟะปะฐัั ัะพะดะฝะพะณะพ ะดะตะฟะฐััะฐะผะตะฝัะฐ, ะฐยััะพะปะฑะตั <code>high</code>ยโ ะผะฐะบัะธะผะฐะปัะฝัั. ะะธะดะฝะพ, ััะพ ัะฐะทะฑัะพั ะทะฝะฐัะตะฝะธะน ะฒยHRยะธยะฟัะพะดะฐะถะฐั ะฝะตะฒะตะปะธะบ, ะฐยัยะฐะนัะธัะฝะธะบะพะฒยโ ะทะฝะฐัะธัะตะปัะฝัะน.</p>
<h2 id=3-ะฐะณัะตะณะฐัะธั>3. ะะณัะตะณะฐัะธั</h2>
<p>ะะณัะตะณะฐัะธั โ ััะพ ะบะพะณะดะฐ ะผัยััะธัะฐะตะผ ััะผะผะฐัะฝัะต ะธะปะธ ััะตะดะฝะธะต ะฟะพะบะฐะทะฐัะตะปะธ. ะะฐะฟัะธะผะตั, ััะตะดะฝัั ะทะฐัะฟะปะฐัั ะฟะพยะบะฐะถะดะพะผั ัะตะณะธะพะฝั ะธะปะธ ะบะพะปะธัะตััะฒะพ ะทะพะปะพััั ะผะตะดะฐะปะตะน ัยะบะฐะถะดะพะน ัััะฐะฝั ะฒยะทะฐัะตัะต ะะปะธะผะฟะธะนัะบะธั ะธะณั.</p>
<p>ะะฐยะฟัะธะผะตัะต ะฝะฐัะตะน ัะฐะฑะปะธัะบะธ ัะพัััะดะฝะธะบะพะฒ:</p>
<p><strong>ะกัะฐะฒะฝะตะฝะธะต ัยัะพะฝะดะพะผ ะพะฟะปะฐัั ัััะดะฐ</strong></p>
<p>ะฃยะบะฐะถะดะพะณะพ ะดะตะฟะฐััะฐะผะตะฝัะฐ ะตััั ัะพะฝะด ะพะฟะปะฐัั ัััะดะฐยโ ะดะตะฝะตะถะฝะฐั ััะผะผะฐ, ะบะพัะพัะฐั ะตะถะตะผะตัััะฝะพ ััะพะดะธั ะฝะฐยะฒัะฟะปะฐัั ะทะฐัะฟะปะฐั ัะพัััะดะฝะธะบะฐะผ. ะะพัะผะพััะธะผ, ะบะฐะบะพะน ะฟัะพัะตะฝั ะพัยััะพะณะพ ัะพะฝะดะฐ ัะพััะฐะฒะปัะตั ะทะฐัะฟะปะฐัะฐ ะบะฐะถะดะพะณะพ ัะพัััะดะฝะธะบะฐ:</p>
<div class=row>
<div class="col-xs-12 col-sm-7">
<figure><img alt="ะกัะฐะฒะฝะตะฝะธะต ั ัะพะฝะดะพะผ ะพะฟะปะฐัั ัััะดะฐ" src=window-aggregate-sum.png></figure>
</div>
</div>
<p>ะกัะพะปะฑะตั <code>fund</code> ะฟะพะบะฐะทัะฒะฐะตั ัะพะฝะด ะพะฟะปะฐัั ัััะดะฐ ะพัะดะตะปะฐ, ะฐย<code>perc</code>ยโ ะดะพะปั ะทะฐัะฟะปะฐัั ัะพัััะดะฝะธะบะฐ ะพัยััะพะณะพ ัะพะฝะดะฐ. ะะธะดะฝะพ, ััะพ ะฒยHRยะธยะฟัะพะดะฐะถะฐั ะฒัะต ะฑะพะปะตะต-ะผะตะฝะตะต ัะพะฒะฝะพ, ะฐยัยะฐะนัะธัะฝะธะบะพะฒ ะตััั ะทะฐะผะตัะฝัะน ัะฐะทะฑัะพั ะทะฐัะฟะปะฐั.</p>
<p><strong>ะกัะฐะฒะฝะตะฝะธะต ัะพยััะตะดะฝะตะน ะทะฐัะฟะปะฐัะพะน</strong></p>
<p>ะะฝัะตัะตัะฝะพ, ะฒะตะปะธะบยะปะธ ัะฐะทะฑัะพั ะทะฐัะฟะปะฐั ะฒยะดะตะฟะฐััะฐะผะตะฝัะฐั. ะัะพะฒะตัะธะผ: ะฟะพััะธัะฐะตะผ ะพัะบะปะพะฝะตะฝะธะต ะทะฐัะฟะปะฐัั ะบะฐะถะดะพะณะพ ัะพัััะดะฝะธะบะฐ ะพัยััะตะดะฝะตะน ะฟะพยะดะตะฟะฐััะฐะผะตะฝัั:</p>
<div class=row>
<div class="col-xs-12 col-sm-8">
<figure><img alt="ะกัะฐะฒะฝะตะฝะธะต ัะพ ััะตะดะฝะตะน ะทะฐัะฟะปะฐัะพะน" src=window-aggregate-diff.png></figure>
</div>
</div>
<p>ะะตะทัะปััะฐั ะฟะพะดัะฒะตัะถะดะฐะตั ะฟัะตะดัะดััะธะต ะฝะฐะฑะปัะดะตะฝะธั: ัยะฐะนัะธัะฝะธะบะพะฒ ะทะฐัะฟะปะฐัั ะบะพะปะตะฑะปัััั ะพัย-16% ะดะพย+20% ะพัยััะตะดะฝะตะณะพ, ะฐยัยะพััะฐะปัะฝัั ะดะตะฟะฐััะฐะผะตะฝัะพะฒ ะพัะบะปะพะฝะตะฝะธะต ะฒยะฟัะตะดะตะปะฐัย5%.</p>
<h2 id=4-ัะบะพะปัะทััะธะต-ะฐะณัะตะณะฐัั>4. ะกะบะพะปัะทััะธะต ะฐะณัะตะณะฐัั</h2>
<p>ะกะบะพะปัะทััะธะต ะฐะณัะตะณะฐัั โ ััะพ ัะตยะถะต ััะผะผะฐ ะธยััะตะดะฝะตะต. ะขะพะปัะบะพ ัะฐัััะธััะฒะฐัั ะธัยะฝะตยะฟะพยะฒัะตะผ ัะปะตะผะตะฝัะฐะผ ะฝะฐะฑะพัะฐ, ะฐยะฑะพะปะตะต ัะธัััะผ ัะฟะพัะพะฑะพะผ.</p>
<p>ะะพััะฝั ะฝะฐยะฟัะธะผะตัะต. ะะดะตัั ะฒะพะทัะผะตะผ ะดััะณัั ัะฐะฑะปะธัะบั โ ัยะดะพัะพะดะฐะผะธ ะธยัะฐััะพะดะฐะผะธ ะพะดะฝะพะณะพ ะธะทยัะพัััะดะฝะธะบะพะฒ (ะฟัััั ััะพ ะฑัะดะตั ะะฐัะธะฝะฐ) ะทะฐย9ยะผะตัััะตะฒ 2020ยะณะพะดะฐ:</p>
<div class=row>
<div class="col-xs-12 col-sm-6">
<figure><img alt="ะขะฐะฑะปะธัะฐ ัะฐััะพะดะพะฒ" src=window-expenses.png></figure>
</div>
</div>
<p><strong>ะกะบะพะปัะทััะตะต ััะตะดะฝะตะต ะฟะพยัะฐััะพะดะฐะผ</strong></p>
<p>ะกัะดั ะฟะพยะดะฐะฝะฝัะผ, ะดะพัะพะดั ัยะะฐัะธะฝั ัะฐัััั: 94ะยโฝ ะฒยัะฝะฒะฐัะต โ 104ะยโฝ ะฒยัะตะฝััะฑัะต. ะยะฒะพั ัะฐััััยะปะธ ัะฐััะพะดั? ะกัะพะดั ัะปะพะถะฝะพ ัะบะฐะทะฐัั, ะผะตััั ะฝะฐยะผะตััั ะฝะตยะฟัะธัะพะดะธััั. ะงัะพะฑั ัะณะปะฐะดะธัั ััะธ ัะบะฐัะบะธ, ะธัะฟะพะปัะทััั ยซัะบะพะปัะทััะตะต ััะตะดะฝะตะตยป โ ะดะปั ะบะฐะถะดะพะณะพ ะผะตัััะฐ ัะฐัััะธััะฒะฐัั ััะตะดะฝะธะน ัะฐััะพะด ัยััะตัะพะผ ะฟัะตะดัะดััะตะณะพ ะธยัะปะตะดัััะตะณะพ ะผะตัััะฐ. ะะฐะฟัะธะผะตั:</p>
<ul>
<li>ัะบะพะปัะทััะตะต ััะตะดะฝะตะต ะทะฐยัะตะฒัะฐะปั = (ัะฝะฒะฐัั + ัะตะฒัะฐะปั + ะผะฐัั) / 3;</li>
<li>ะทะฐยะผะฐัั = (ัะตะฒัะฐะปั + ะผะฐัั + ะฐะฟัะตะปั) / 3;</li>
<li>ะทะฐยะฐะฟัะตะปั = (ะผะฐัั + ะฐะฟัะตะปั + ะผะฐะน) / 3;</li>
<li>ะธยัะฐะบ ะดะฐะปะตะต.</li>
</ul>
<p>ะะฐัััะธัะฐะตะผ ัะบะพะปัะทััะตะต ััะตะดะฝะตะต ะฟะพยะฒัะตะผ ะผะตัััะฐะผ:</p>
<div class=row>
<div class="col-xs-12 col-sm-6">
<figure><img alt="ะกะบะพะปัะทััะตะต ััะตะดะฝะตะต ะฟะพ ัะฐััะพะดะฐะผ" src=window-rolling-avg.png></figure>
</div>
</div>
<p>ะขะตะฟะตัั ัะพัะพัะพ ะฒะธะดะฝะพ, ััะพ ัะฐััะพะดั ััะฐะฑะธะปัะฝะพ ัะฐัััั.</p>
<p><strong>ะัะธะฑัะปั ะฝะฐัะฐััะฐััะธะผ ะธัะพะณะพะผ</strong></p>
<p>ะัยะฒัััะฝะธะปะธ, ััะพ ัะฐัััั ะธยะดะพัะพะดั, ะธยัะฐััะพะดั. ะยะบะฐะบ ะพะฝะธ ัะพะพัะฝะพััััั ะดััะณ ัยะดััะณะพะผ? ะฅะพัะตััั ะฟะพะฝััั, ะฝะฐัะพะดะธัััยะปะธ ัะตะปะพะฒะตะบ ยซะฒยะฟะปััะตยป ะธะปะธ ยซะฒยะผะธะฝััะตยป ัยััะตัะพะผ ะฒัะตั ะทะฐัะฐะฑะพัะฐะฝะฝัั ะธยะฟะพััะฐัะตะฝะฝัั ะดะตะฝะตะณ.</p>
<p>ะัะธัะตะผ ะฒะฐะถะฝะพ ะฟะพะฝะธะผะฐัั ะฝะตยะฝะฐยะบะพะฝะตั ะณะพะดะฐ, ะฐยะฝะฐยะบะฐะถะดัะน ะผะตััั. ะะพัะพะผั ััะพ ะตัะปะธ ะฟะพยะธัะพะณะฐะผ ะณะพะดะฐ ัยะะฐัะธะฝั ะฒัะต ะะ, ะฐยะฒยะธัะฝะต ััะปะฐ ะฒยะผะธะฝัั โ ััะพ ะฟะพัะตะฝัะธะฐะปัะฝะฐั ะฟัะพะฑะปะตะผะฐ (ัยะบะพะผะฟะฐะฝะธะน ัะฐะบัั ัะธััะฐัะธั ะฝะฐะทัะฒะฐัั ยซะบะฐััะพะฒัะผ ัะฐะทััะฒะพะผยป).</p>
<p>ะะพััะพะผั ะฟะพััะธัะฐะตะผ ะดะพัะพะดั ะธยัะฐััะพะดั ะฟะพยะผะตัััะฐะผ ะฝะฐัะฐััะฐััะธะผ ะธัะพะณะพะผ (ะบัะผัะปััะธะฒะฝะพ):</p>
<ul>
<li>ะบัะผัะปััะธะฒะฝัะน ะดะพัะพะด ะทะฐยัะฝะฒะฐัั = ัะฝะฒะฐัั;</li>
<li>ะทะฐยัะตะฒัะฐะปั = ัะฝะฒะฐัั + ัะตะฒัะฐะปั;</li>
<li>ะทะฐยะผะฐัั = ัะฝะฒะฐัั + ัะตะฒัะฐะปั + ะผะฐัั;</li>
<li>ะทะฐยะฐะฟัะตะปั = ัะฝะฒะฐัั + ัะตะฒัะฐะปั + ะผะฐัั + ะฐะฟัะตะปั;</li>
<li>ะธยัะฐะบ ะดะฐะปะตะต.</li>
</ul>
<div class=row>
<div class="col-xs-12 col-sm-10">
<figure><img alt="ะัะธะฑัะปั ะฝะฐัะฐััะฐััะธะผ ะธัะพะณะพะผ" src=window-cumulative-sum.png></figure>
</div>
</div>
<p>ะขะตะฟะตัั ะฒะธะดะฝะพ, ััะพ ะดะตะปะฐ ัยะะฐัะธะฝั ะธะดัั ะฝะตะฟะปะพัะพ. ะยะฝะตะบะพัะพััั ะผะตัััะฐั ัะฐััะพะดั ะฟัะตะฒััะฐัั ะดะพัะพะดั, ะฝะพยะฑะปะฐะณะพะดะฐัั ะฝะฐะบะพะฟะปะตะฝะฝะพะน ยซะดะตะฝะตะถะฝะพะน ะฟะพะดััะบะตยป ะบะฐััะพะฒะพะณะพ ัะฐะทััะฒะฐ ะฝะตยะฟัะพะธััะพะดะธั.</p>
<h2 id=ัะตะทัะผะต>ะะตะทัะผะต</h2>
<p>ะะพั ะทะฐะดะฐัะธ, ะบะพัะพััะต ะฝะตะฟัะธะฝัะถะดะตะฝะฝะพ ัะตัะฐัััั ัยะฟะพะผะพััั ะพะบะพะฝะฝัั ััะฝะบัะธะน ะฒยSQL:</p>
<ol>
<li>ะะฐะฝะถะธัะพะฒะฐะฝะธะต (ะฒัะตะฒะพะทะผะพะถะฝัะต ัะตะนัะธะฝะณะธ).</li>
<li>ะกัะฐะฒะฝะตะฝะธะต ัะพยัะผะตัะตะฝะธะตะผ (ัะพัะตะดะฝะธะต ัะปะตะผะตะฝัั ะธยะณัะฐะฝะธัั).</li>
<li>ะะณัะตะณะฐัะธั (ััะผะผะฐ ะธยััะตะดะฝะตะต).</li>
<li>ะกะบะพะปัะทััะธะต ะฐะณัะตะณะฐัั (ััะผะผะฐ ะธยััะตะดะฝะตะต ะฒยะดะธะฝะฐะผะธะบะต).</li>
</ol>
<p>ะะพะฝะตัะฝะพ, ััะพ ะฝะตยะธััะตัะฟัะฒะฐััะธะน ัะฟะธัะพะบ. ะะพ, ะฝะฐะดะตััั, ัะตะฟะตัั ะฟะพะฝััะฝะพ, ะบะฐะบยะฟัะธะณะพะดัััั ะพะบะพะฝะฝัะต ััะฝะบัะธะธ ะฒยะฐะฝะฐะปะธัะธะบะต ะดะฐะฝะฝัั. ะย<a href=/window-ranking/>ัะปะตะดัััะตะน ัะฐััะธ</a> ัะฐะทะฑะตัะตะผัั, ััะพ ัะฐะบะพะต ยซะพะบะฝะพยป ะธยะบะฐะบ ัะฐะฑะพัะฐะตั ะพะบะพะฝะฝะฐั ััะฝะบัะธั.</p>
<p>ะงัะพะฑั ะทะฐะบัะตะฟะธัั ะทะฝะฐะฝะธั ะฝะฐยะฟัะฐะบัะธะบะต โ <a href=https://stepik.org/z/95367><strong>ะทะฐะฟะธััะฒะฐะนัะตัั ะฝะฐยะบััั</strong></a>ย๐</p>
</div>
</div><footer class=post__footer>
<div class=row>
<div class=col-xs-12>
<div class=post__date>
<time datetime="2021-03-15 09:20:42 +0000 UTC">15.03.2021</time>
</div>
<div class=post__tags>
<a href=https://antonz.ru/tags/data/>ะดะฐะฝะฝัะต</a>&nbsp;
<a href=https://antonz.ru/tags/sqlite/>sqlite</a>&nbsp;
</div>
</div>
</div>
</footer></article>
<aside class=post__related>
<div class="post__nav article">
<div class=row>
<div class="col-xs-12 col-sm-6">
<p>&larr;&nbsp;<a href=https://antonz.ru/episode-4/>ะัะธะฑะบะธ ะฒ API</a></p>
</div>
<div class="col-xs-12 col-sm-6">
<p><a href=https://antonz.ru/start-with-example/>ะะฐัะฝะธ ั ะฟัะธะผะตัะฐ</a>&nbsp;&rarr;</p>
</div>
</div>
</div>
<div class=article>
<div class=row>
<div class="col-xs-12 col-sm-8 col-md-6">
<h3>ะัั ะฟะพ ัะตะผะต</h3>
<p><a href=/sqlite-3-35/>ะงัะพ ะฝะพะฒะพะณะพ ะฒยSQLiteย3.35</a></p>
<p><a href=/random-table/>ะะฐะบ ัะพะทะดะฐัั ัะฐะฑะปะธัั ะฝะฐย1ะ ะทะฐะฟะธัะตะน ะพะดะฝะธะผยะทะฐะฟัะพัะพะผ</a></p>
<p><a href=/sqlite-course/>SQLite ะดะปั ะฐะฝะฐะปะธัะธะบะธ</a></p>
</div>
</div>
</div>
</aside>
<script src=https://utteranc.es/client.js repo=nalgeon/comments.antonz.ru issue-term=pathname theme=github-light crossorigin=anonymous async></script></div>
</div>
<footer class="container footer">
<ul class=naked-list>
<li class=footer__item>ะะพะดะฟะธัะฐัััั:
<a href=https://twitter.com/nalgeon class=footer__social-link><i class="fab fa-twitter"></i><span>ะขะฒะธััะตั</span></a>
<a href=https://www.facebook.com/nalgeon class=footer__social-link><i class="fab fa-facebook-f"></i><span>ะคะตะนัะฑัะบ</span></a>
<a href=/rss class=footer__social-link><i class="fas fa-rss"></i><span>RSS</span></a>
</li>
<li class=footer__item>ะะพััะฐ: <a href=mailto:m@antonz.ru>m@antonz.ru</a></li>
<li class=footer__item>ะธยะฟัะธัะพะดะธัะตยะฒ
<a class=footer__link href=https://career.hflabs.ru/>HFLabs</a>
</li>
</ul>
</footer>
<script async src=//gc.zgo.at/count.js data-goatcounter=https://antonzru.goatcounter.com/count></script></body>
</html>